(function(M,ne){typeof exports=="object"&&typeof module<"u"?ne(exports,require("uglify-js")):typeof define=="function"&&define.amd?define(["exports","uglify-js"],ne):(M=typeof globalThis<"u"?globalThis:M||self,ne(M["prettier-plugin-edgejs"]={},M["uglify-js"]))})(this,function(M,ne){"use strict";var Hp=Object.defineProperty;var Wp=(M,ne,ze)=>ne in M?Hp(M,ne,{enumerable:!0,configurable:!0,writable:!0,value:ze}):M[ne]=ze;var Ge=(M,ne,ze)=>Wp(M,typeof ne!="symbol"?ne+"":ne,ze);var ze=t=>{throw TypeError(t)},$r=(t,e,n)=>e.has(t)||ze("Cannot "+n),La=(t,e,n)=>($r(t,e,"read from private field"),n?n.call(t):e.get(t)),Fr=(t,e,n)=>e.has(t)?ze("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),jr=(t,e,n)=>($r(t,e,"access private method"),n),Gr=typeof global=="object"&&global&&global.Object===Object&&global,ka=typeof self=="object"&&self&&self.Object===Object&&self,_e=Gr||ka||Function("return this")(),ae=_e.Symbol,Br=Object.prototype,Ca=Br.hasOwnProperty,ba=Br.toString,Et=ae?ae.toStringTag:void 0;function Na(t){var e=Ca.call(t,Et),n=t[Et];try{t[Et]=void 0;var r=!0}catch{}var i=ba.call(t);return r&&(e?t[Et]=n:delete t[Et]),i}var Ma=Object.prototype,Pa=Ma.toString;function xa(t){return Pa.call(t)}var wa="[object Null]",Ua="[object Undefined]",Vr=ae?ae.toStringTag:void 0;function Be(t){return t==null?t===void 0?Ua:wa:Vr&&Vr in Object(t)?Na(t):xa(t)}function pe(t){return t!=null&&typeof t=="object"}var Da="[object Symbol]";function $t(t){return typeof t=="symbol"||pe(t)&&Be(t)==Da}function Ft(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var N=Array.isArray,Kr=ae?ae.prototype:void 0,Hr=Kr?Kr.toString:void 0;function Wr(t){if(typeof t=="string")return t;if(N(t))return Ft(t,Wr)+"";if($t(t))return Hr?Hr.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var $a=/\s/;function Fa(t){for(var e=t.length;e--&&$a.test(t.charAt(e)););return e}var ja=/^\s+/;function Ga(t){return t&&t.slice(0,Fa(t)+1).replace(ja,"")}function oe(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var zr=NaN,Ba=/^[-+]0x[0-9a-f]+$/i,Va=/^0b[01]+$/i,Ka=/^0o[0-7]+$/i,Ha=parseInt;function Wa(t){if(typeof t=="number")return t;if($t(t))return zr;if(oe(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=oe(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Ga(t);var n=Va.test(t);return n||Ka.test(t)?Ha(t.slice(2),n?2:8):Ba.test(t)?zr:+t}var za=1/0,Ya=17976931348623157e292;function Xa(t){if(!t)return t===0?t:0;if(t=Wa(t),t===za||t===-1/0){var e=t<0?-1:1;return e*Ya}return t===t?t:0}function jt(t){var e=Xa(t),n=e%1;return e===e?n?e-n:e:0}function at(t){return t}var qa="[object AsyncFunction]",Qa="[object Function]",Za="[object GeneratorFunction]",Ja="[object Proxy]";function Me(t){if(!oe(t))return!1;var e=Be(t);return e==Qa||e==Za||e==qa||e==Ja}var kn=_e["__core-js_shared__"],Yr=function(){var t=/[^.]+$/.exec(kn&&kn.keys&&kn.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function eo(t){return!!Yr&&Yr in t}var to=Function.prototype,no=to.toString;function Ye(t){if(t!=null){try{return no.call(t)}catch{}try{return t+""}catch{}}return""}var ro=/[\\^$.*+?()[\]{}|]/g,io=/^\[object .+?Constructor\]$/,so=Function.prototype,ao=Object.prototype,oo=so.toString,co=ao.hasOwnProperty,uo=RegExp("^"+oo.call(co).replace(ro,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function lo(t){if(!oe(t)||eo(t))return!1;var e=Me(t)?uo:io;return e.test(Ye(t))}function ho(t,e){return t==null?void 0:t[e]}function Xe(t,e){var n=ho(t,e);return lo(n)?n:void 0}var Cn=Xe(_e,"WeakMap"),Xr=Object.create,fo=function(){function t(){}return function(e){if(!oe(e))return{};if(Xr)return Xr(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function po(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function B(){}function mo(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var go=800,Eo=16,To=Date.now;function yo(t){var e=0,n=0;return function(){var r=To(),i=Eo-(r-n);if(n=r,i>0){if(++e>=go)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function Ao(t){return function(){return t}}var Gt=function(){try{var t=Xe(Object,"defineProperty");return t({},"",{}),t}catch{}}(),_o=Gt?function(t,e){return Gt(t,"toString",{configurable:!0,enumerable:!1,value:Ao(e),writable:!0})}:at,vo=yo(_o);function qr(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}function Qr(t,e,n,r){for(var i=t.length,s=n+-1;++s<i;)if(e(t[s],s,t))return s;return-1}function Oo(t){return t!==t}function Ro(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}function bn(t,e,n){return e===e?Ro(t,e,n):Qr(t,Oo,n)}function Zr(t,e){var n=t==null?0:t.length;return!!n&&bn(t,e,0)>-1}var Io=9007199254740991,So=/^(?:0|[1-9]\d*)$/;function Bt(t,e){var n=typeof t;return e=e??Io,!!e&&(n=="number"||n!="symbol"&&So.test(t))&&t>-1&&t%1==0&&t<e}function Nn(t,e,n){e=="__proto__"&&Gt?Gt(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Tt(t,e){return t===e||t!==t&&e!==e}var Lo=Object.prototype,ko=Lo.hasOwnProperty;function Vt(t,e,n){var r=t[e];(!(ko.call(t,e)&&Tt(r,n))||n===void 0&&!(e in t))&&Nn(t,e,n)}function Mn(t,e,n,r){var i=!n;n||(n={});for(var s=-1,a=e.length;++s<a;){var o=e[s],c=void 0;c===void 0&&(c=t[o]),i?Nn(n,o,c):Vt(n,o,c)}return n}var Jr=Math.max;function Co(t,e,n){return e=Jr(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,s=Jr(r.length-e,0),a=Array(s);++i<s;)a[i]=r[e+i];i=-1;for(var o=Array(e+1);++i<e;)o[i]=r[i];return o[e]=n(a),po(t,this,o)}}function Pn(t,e){return vo(Co(t,e,at),t+"")}var bo=9007199254740991;function xn(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=bo}function ve(t){return t!=null&&xn(t.length)&&!Me(t)}function ei(t,e,n){if(!oe(n))return!1;var r=typeof e;return(r=="number"?ve(n)&&Bt(e,n.length):r=="string"&&e in n)?Tt(n[e],t):!1}function No(t){return Pn(function(e,n){var r=-1,i=n.length,s=i>1?n[i-1]:void 0,a=i>2?n[2]:void 0;for(s=t.length>3&&typeof s=="function"?(i--,s):void 0,a&&ei(n[0],n[1],a)&&(s=i<3?void 0:s,i=1),e=Object(e);++r<i;){var o=n[r];o&&t(e,o,r,s)}return e})}var Mo=Object.prototype;function yt(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||Mo;return t===n}function Po(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var xo="[object Arguments]";function ti(t){return pe(t)&&Be(t)==xo}var ni=Object.prototype,wo=ni.hasOwnProperty,Uo=ni.propertyIsEnumerable,Kt=ti(function(){return arguments}())?ti:function(t){return pe(t)&&wo.call(t,"callee")&&!Uo.call(t,"callee")};function Do(){return!1}var ri=typeof M=="object"&&M&&!M.nodeType&&M,ii=ri&&typeof module=="object"&&module&&!module.nodeType&&module,$o=ii&&ii.exports===ri,si=$o?_e.Buffer:void 0,Fo=si?si.isBuffer:void 0,At=Fo||Do,jo="[object Arguments]",Go="[object Array]",Bo="[object Boolean]",Vo="[object Date]",Ko="[object Error]",Ho="[object Function]",Wo="[object Map]",zo="[object Number]",Yo="[object Object]",Xo="[object RegExp]",qo="[object Set]",Qo="[object String]",Zo="[object WeakMap]",Jo="[object ArrayBuffer]",ec="[object DataView]",tc="[object Float32Array]",nc="[object Float64Array]",rc="[object Int8Array]",ic="[object Int16Array]",sc="[object Int32Array]",ac="[object Uint8Array]",oc="[object Uint8ClampedArray]",cc="[object Uint16Array]",uc="[object Uint32Array]",D={};D[tc]=D[nc]=D[rc]=D[ic]=D[sc]=D[ac]=D[oc]=D[cc]=D[uc]=!0,D[jo]=D[Go]=D[Jo]=D[Bo]=D[ec]=D[Vo]=D[Ko]=D[Ho]=D[Wo]=D[zo]=D[Yo]=D[Xo]=D[qo]=D[Qo]=D[Zo]=!1;function lc(t){return pe(t)&&xn(t.length)&&!!D[Be(t)]}function Ht(t){return function(e){return t(e)}}var ai=typeof M=="object"&&M&&!M.nodeType&&M,_t=ai&&typeof module=="object"&&module&&!module.nodeType&&module,hc=_t&&_t.exports===ai,wn=hc&&Gr.process,Ve=function(){try{var t=_t&&_t.require&&_t.require("util").types;return t||wn&&wn.binding&&wn.binding("util")}catch{}}(),oi=Ve&&Ve.isTypedArray,Un=oi?Ht(oi):lc,fc=Object.prototype,dc=fc.hasOwnProperty;function ci(t,e){var n=N(t),r=!n&&Kt(t),i=!n&&!r&&At(t),s=!n&&!r&&!i&&Un(t),a=n||r||i||s,o=a?Po(t.length,String):[],c=o.length;for(var u in t)(e||dc.call(t,u))&&!(a&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Bt(u,c)))&&o.push(u);return o}function ui(t,e){return function(n){return t(e(n))}}var pc=ui(Object.keys,Object),mc=Object.prototype,gc=mc.hasOwnProperty;function li(t){if(!yt(t))return pc(t);var e=[];for(var n in Object(t))gc.call(t,n)&&n!="constructor"&&e.push(n);return e}function ce(t){return ve(t)?ci(t):li(t)}var Ec=Object.prototype,Tc=Ec.hasOwnProperty,re=No(function(t,e){if(yt(e)||ve(e)){Mn(e,ce(e),t);return}for(var n in e)Tc.call(e,n)&&Vt(t,n,e[n])});function yc(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var Ac=Object.prototype,_c=Ac.hasOwnProperty;function vc(t){if(!oe(t))return yc(t);var e=yt(t),n=[];for(var r in t)r=="constructor"&&(e||!_c.call(t,r))||n.push(r);return n}function hi(t){return ve(t)?ci(t,!0):vc(t)}var Oc=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Rc=/^\w*$/;function Dn(t,e){if(N(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||$t(t)?!0:Rc.test(t)||!Oc.test(t)||e!=null&&t in Object(e)}var vt=Xe(Object,"create");function Ic(){this.__data__=vt?vt(null):{},this.size=0}function Sc(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Lc="__lodash_hash_undefined__",kc=Object.prototype,Cc=kc.hasOwnProperty;function bc(t){var e=this.__data__;if(vt){var n=e[t];return n===Lc?void 0:n}return Cc.call(e,t)?e[t]:void 0}var Nc=Object.prototype,Mc=Nc.hasOwnProperty;function Pc(t){var e=this.__data__;return vt?e[t]!==void 0:Mc.call(e,t)}var xc="__lodash_hash_undefined__";function wc(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=vt&&e===void 0?xc:e,this}function qe(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}qe.prototype.clear=Ic,qe.prototype.delete=Sc,qe.prototype.get=bc,qe.prototype.has=Pc,qe.prototype.set=wc;function Uc(){this.__data__=[],this.size=0}function Wt(t,e){for(var n=t.length;n--;)if(Tt(t[n][0],e))return n;return-1}var Dc=Array.prototype,$c=Dc.splice;function Fc(t){var e=this.__data__,n=Wt(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():$c.call(e,n,1),--this.size,!0}function jc(t){var e=this.__data__,n=Wt(e,t);return n<0?void 0:e[n][1]}function Gc(t){return Wt(this.__data__,t)>-1}function Bc(t,e){var n=this.__data__,r=Wt(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function Pe(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Pe.prototype.clear=Uc,Pe.prototype.delete=Fc,Pe.prototype.get=jc,Pe.prototype.has=Gc,Pe.prototype.set=Bc;var Ot=Xe(_e,"Map");function Vc(){this.size=0,this.__data__={hash:new qe,map:new(Ot||Pe),string:new qe}}function Kc(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function zt(t,e){var n=t.__data__;return Kc(e)?n[typeof e=="string"?"string":"hash"]:n.map}function Hc(t){var e=zt(this,t).delete(t);return this.size-=e?1:0,e}function Wc(t){return zt(this,t).get(t)}function zc(t){return zt(this,t).has(t)}function Yc(t,e){var n=zt(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function xe(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}xe.prototype.clear=Vc,xe.prototype.delete=Hc,xe.prototype.get=Wc,xe.prototype.has=zc,xe.prototype.set=Yc;var Xc="Expected a function";function $n(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Xc);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var a=t.apply(this,r);return n.cache=s.set(i,a)||s,a};return n.cache=new($n.Cache||xe),n}$n.Cache=xe;var qc=500;function Qc(t){var e=$n(t,function(r){return n.size===qc&&n.clear(),r}),n=e.cache;return e}var Zc=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Jc=/\\(\\)?/g,eu=Qc(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Zc,function(n,r,i,s){e.push(i?s.replace(Jc,"$1"):r||n)}),e});function tu(t){return t==null?"":Wr(t)}function Yt(t,e){return N(t)?t:Dn(t,e)?[t]:eu(tu(t))}function Rt(t){if(typeof t=="string"||$t(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function Fn(t,e){e=Yt(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[Rt(e[n++])];return n&&n==r?t:void 0}function nu(t,e,n){var r=t==null?void 0:Fn(t,e);return r===void 0?n:r}function jn(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var fi=ae?ae.isConcatSpreadable:void 0;function ru(t){return N(t)||Kt(t)||!!(fi&&t&&t[fi])}function Gn(t,e,n,r,i){var s=-1,a=t.length;for(n||(n=ru),i||(i=[]);++s<a;){var o=t[s];n(o)?jn(i,o):r||(i[i.length]=o)}return i}function me(t){var e=t==null?0:t.length;return e?Gn(t):[]}var di=ui(Object.getPrototypeOf,Object);function pi(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var s=Array(i);++r<i;)s[r]=t[r+e];return s}function iu(t,e,n,r){var i=-1,s=t==null?0:t.length;for(r&&s&&(n=t[++i]);++i<s;)n=e(n,t[i],i,t);return n}function su(){this.__data__=new Pe,this.size=0}function au(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function ou(t){return this.__data__.get(t)}function cu(t){return this.__data__.has(t)}var uu=200;function lu(t,e){var n=this.__data__;if(n instanceof Pe){var r=n.__data__;if(!Ot||r.length<uu-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new xe(r)}return n.set(t,e),this.size=n.size,this}function Oe(t){var e=this.__data__=new Pe(t);this.size=e.size}Oe.prototype.clear=su,Oe.prototype.delete=au,Oe.prototype.get=ou,Oe.prototype.has=cu,Oe.prototype.set=lu;function hu(t,e){return t&&Mn(e,ce(e),t)}var mi=typeof M=="object"&&M&&!M.nodeType&&M,gi=mi&&typeof module=="object"&&module&&!module.nodeType&&module,fu=gi&&gi.exports===mi,Ei=fu?_e.Buffer:void 0,Ti=Ei?Ei.allocUnsafe:void 0;function du(t,e){var n=t.length,r=Ti?Ti(n):new t.constructor(n);return t.copy(r),r}function Bn(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var a=t[n];e(a,n,t)&&(s[i++]=a)}return s}function yi(){return[]}var pu=Object.prototype,mu=pu.propertyIsEnumerable,Ai=Object.getOwnPropertySymbols,Vn=Ai?function(t){return t==null?[]:(t=Object(t),Bn(Ai(t),function(e){return mu.call(t,e)}))}:yi;function gu(t,e){return Mn(t,Vn(t),e)}var Eu=Object.getOwnPropertySymbols,Tu=Eu?function(t){for(var e=[];t;)jn(e,Vn(t)),t=di(t);return e}:yi;function _i(t,e,n){var r=e(t);return N(t)?r:jn(r,n(t))}function Kn(t){return _i(t,ce,Vn)}function yu(t){return _i(t,hi,Tu)}var Hn=Xe(_e,"DataView"),Wn=Xe(_e,"Promise"),ot=Xe(_e,"Set"),vi="[object Map]",Au="[object Object]",Oi="[object Promise]",Ri="[object Set]",Ii="[object WeakMap]",Si="[object DataView]",_u=Ye(Hn),vu=Ye(Ot),Ou=Ye(Wn),Ru=Ye(ot),Iu=Ye(Cn),ue=Be;(Hn&&ue(new Hn(new ArrayBuffer(1)))!=Si||Ot&&ue(new Ot)!=vi||Wn&&ue(Wn.resolve())!=Oi||ot&&ue(new ot)!=Ri||Cn&&ue(new Cn)!=Ii)&&(ue=function(t){var e=Be(t),n=e==Au?t.constructor:void 0,r=n?Ye(n):"";if(r)switch(r){case _u:return Si;case vu:return vi;case Ou:return Oi;case Ru:return Ri;case Iu:return Ii}return e});var Su=Object.prototype,Lu=Su.hasOwnProperty;function ku(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&Lu.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var Xt=_e.Uint8Array;function Cu(t){var e=new t.constructor(t.byteLength);return new Xt(e).set(new Xt(t)),e}function bu(t,e){var n=t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var Nu=/\w*$/;function Mu(t){var e=new t.constructor(t.source,Nu.exec(t));return e.lastIndex=t.lastIndex,e}var Li=ae?ae.prototype:void 0,ki=Li?Li.valueOf:void 0;function Pu(t){return ki?Object(ki.call(t)):{}}function xu(t,e){var n=t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var wu="[object Boolean]",Uu="[object Date]",Du="[object Map]",$u="[object Number]",Fu="[object RegExp]",ju="[object Set]",Gu="[object String]",Bu="[object Symbol]",Vu="[object ArrayBuffer]",Ku="[object DataView]",Hu="[object Float32Array]",Wu="[object Float64Array]",zu="[object Int8Array]",Yu="[object Int16Array]",Xu="[object Int32Array]",qu="[object Uint8Array]",Qu="[object Uint8ClampedArray]",Zu="[object Uint16Array]",Ju="[object Uint32Array]";function el(t,e,n){var r=t.constructor;switch(e){case Vu:return Cu(t);case wu:case Uu:return new r(+t);case Ku:return bu(t);case Hu:case Wu:case zu:case Yu:case Xu:case qu:case Qu:case Zu:case Ju:return xu(t);case Du:return new r;case $u:case Gu:return new r(t);case Fu:return Mu(t);case ju:return new r;case Bu:return Pu(t)}}function tl(t){return typeof t.constructor=="function"&&!yt(t)?fo(di(t)):{}}var nl="[object Map]";function rl(t){return pe(t)&&ue(t)==nl}var Ci=Ve&&Ve.isMap,il=Ci?Ht(Ci):rl,sl="[object Set]";function al(t){return pe(t)&&ue(t)==sl}var bi=Ve&&Ve.isSet,ol=bi?Ht(bi):al,Ni="[object Arguments]",cl="[object Array]",ul="[object Boolean]",ll="[object Date]",hl="[object Error]",Mi="[object Function]",fl="[object GeneratorFunction]",dl="[object Map]",pl="[object Number]",Pi="[object Object]",ml="[object RegExp]",gl="[object Set]",El="[object String]",Tl="[object Symbol]",yl="[object WeakMap]",Al="[object ArrayBuffer]",_l="[object DataView]",vl="[object Float32Array]",Ol="[object Float64Array]",Rl="[object Int8Array]",Il="[object Int16Array]",Sl="[object Int32Array]",Ll="[object Uint8Array]",kl="[object Uint8ClampedArray]",Cl="[object Uint16Array]",bl="[object Uint32Array]",w={};w[Ni]=w[cl]=w[Al]=w[_l]=w[ul]=w[ll]=w[vl]=w[Ol]=w[Rl]=w[Il]=w[Sl]=w[dl]=w[pl]=w[Pi]=w[ml]=w[gl]=w[El]=w[Tl]=w[Ll]=w[kl]=w[Cl]=w[bl]=!0,w[hl]=w[Mi]=w[yl]=!1;function qt(t,e,n,r,i,s){var a;if(a!==void 0)return a;if(!oe(t))return t;var o=N(t);if(o)return a=ku(t),mo(t,a);var c=ue(t),u=c==Mi||c==fl;if(At(t))return du(t);if(c==Pi||c==Ni||u&&!i)return a=u?{}:tl(t),gu(t,hu(a,t));if(!w[c])return i?t:{};a=el(t,c),s||(s=new Oe);var l=s.get(t);if(l)return l;s.set(t,a),ol(t)?t.forEach(function(T){a.add(qt(T,e,n,T,t,s))}):il(t)&&t.forEach(function(T,p){a.set(p,qt(T,e,n,p,t,s))});var h=Kn,f=o?void 0:h(t);return qr(f||t,function(T,p){f&&(p=T,T=t[p]),Vt(a,p,qt(T,e,n,p,t,s))}),a}var Nl=4;function W(t){return qt(t,Nl)}function It(t){for(var e=-1,n=t==null?0:t.length,r=0,i=[];++e<n;){var s=t[e];s&&(i[r++]=s)}return i}var Ml="__lodash_hash_undefined__";function Pl(t){return this.__data__.set(t,Ml),this}function xl(t){return this.__data__.has(t)}function ct(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new xe;++e<n;)this.add(t[e])}ct.prototype.add=ct.prototype.push=Pl,ct.prototype.has=xl;function xi(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function zn(t,e){return t.has(e)}var wl=1,Ul=2;function wi(t,e,n,r,i,s){var a=n&wl,o=t.length,c=e.length;if(o!=c&&!(a&&c>o))return!1;var u=s.get(t),l=s.get(e);if(u&&l)return u==e&&l==t;var h=-1,f=!0,T=n&Ul?new ct:void 0;for(s.set(t,e),s.set(e,t);++h<o;){var p=t[h],_=e[h];if(r)var R=a?r(_,p,h,e,t,s):r(p,_,h,t,e,s);if(R!==void 0){if(R)continue;f=!1;break}if(T){if(!xi(e,function(A,y){if(!zn(T,y)&&(p===A||i(p,A,n,r,s)))return T.push(y)})){f=!1;break}}else if(!(p===_||i(p,_,n,r,s))){f=!1;break}}return s.delete(t),s.delete(e),f}function Dl(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}function Yn(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var $l=1,Fl=2,jl="[object Boolean]",Gl="[object Date]",Bl="[object Error]",Vl="[object Map]",Kl="[object Number]",Hl="[object RegExp]",Wl="[object Set]",zl="[object String]",Yl="[object Symbol]",Xl="[object ArrayBuffer]",ql="[object DataView]",Ui=ae?ae.prototype:void 0,Xn=Ui?Ui.valueOf:void 0;function Ql(t,e,n,r,i,s,a){switch(n){case ql:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Xl:return!(t.byteLength!=e.byteLength||!s(new Xt(t),new Xt(e)));case jl:case Gl:case Kl:return Tt(+t,+e);case Bl:return t.name==e.name&&t.message==e.message;case Hl:case zl:return t==e+"";case Vl:var o=Dl;case Wl:var c=r&$l;if(o||(o=Yn),t.size!=e.size&&!c)return!1;var u=a.get(t);if(u)return u==e;r|=Fl,a.set(t,e);var l=wi(o(t),o(e),r,i,s,a);return a.delete(t),l;case Yl:if(Xn)return Xn.call(t)==Xn.call(e)}return!1}var Zl=1,Jl=Object.prototype,eh=Jl.hasOwnProperty;function th(t,e,n,r,i,s){var a=n&Zl,o=Kn(t),c=o.length,u=Kn(e),l=u.length;if(c!=l&&!a)return!1;for(var h=c;h--;){var f=o[h];if(!(a?f in e:eh.call(e,f)))return!1}var T=s.get(t),p=s.get(e);if(T&&p)return T==e&&p==t;var _=!0;s.set(t,e),s.set(e,t);for(var R=a;++h<c;){f=o[h];var A=t[f],y=e[f];if(r)var d=a?r(y,A,f,e,t,s):r(A,y,f,t,e,s);if(!(d===void 0?A===y||i(A,y,n,r,s):d)){_=!1;break}R||(R=f=="constructor")}if(_&&!R){var m=t.constructor,L=e.constructor;m!=L&&"constructor"in t&&"constructor"in e&&!(typeof m=="function"&&m instanceof m&&typeof L=="function"&&L instanceof L)&&(_=!1)}return s.delete(t),s.delete(e),_}var nh=1,Di="[object Arguments]",$i="[object Array]",Qt="[object Object]",rh=Object.prototype,Fi=rh.hasOwnProperty;function ih(t,e,n,r,i,s){var a=N(t),o=N(e),c=a?$i:ue(t),u=o?$i:ue(e);c=c==Di?Qt:c,u=u==Di?Qt:u;var l=c==Qt,h=u==Qt,f=c==u;if(f&&At(t)){if(!At(e))return!1;a=!0,l=!1}if(f&&!l)return s||(s=new Oe),a||Un(t)?wi(t,e,n,r,i,s):Ql(t,e,c,n,r,i,s);if(!(n&nh)){var T=l&&Fi.call(t,"__wrapped__"),p=h&&Fi.call(e,"__wrapped__");if(T||p){var _=T?t.value():t,R=p?e.value():e;return s||(s=new Oe),i(_,R,n,r,s)}}return f?(s||(s=new Oe),th(t,e,n,r,i,s)):!1}function qn(t,e,n,r,i){return t===e?!0:t==null||e==null||!pe(t)&&!pe(e)?t!==t&&e!==e:ih(t,e,n,r,qn,i)}var sh=1,ah=2;function oh(t,e,n,r){var i=n.length,s=i;if(t==null)return!s;for(t=Object(t);i--;){var a=n[i];if(a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<s;){a=n[i];var o=a[0],c=t[o],u=a[1];if(a[2]){if(c===void 0&&!(o in t))return!1}else{var l=new Oe,h;if(!(h===void 0?qn(u,c,sh|ah,r,l):h))return!1}}return!0}function ji(t){return t===t&&!oe(t)}function ch(t){for(var e=ce(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,ji(i)]}return e}function Gi(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}function uh(t){var e=ch(t);return e.length==1&&e[0][2]?Gi(e[0][0],e[0][1]):function(n){return n===t||oh(n,t,e)}}function lh(t,e){return t!=null&&e in Object(t)}function Bi(t,e,n){e=Yt(e,t);for(var r=-1,i=e.length,s=!1;++r<i;){var a=Rt(e[r]);if(!(s=t!=null&&n(t,a)))break;t=t[a]}return s||++r!=i?s:(i=t==null?0:t.length,!!i&&xn(i)&&Bt(a,i)&&(N(t)||Kt(t)))}function hh(t,e){return t!=null&&Bi(t,e,lh)}var fh=1,dh=2;function ph(t,e){return Dn(t)&&ji(e)?Gi(Rt(t),e):function(n){var r=nu(n,t);return r===void 0&&r===e?hh(n,t):qn(e,r,fh|dh)}}function mh(t){return function(e){return e==null?void 0:e[t]}}function gh(t){return function(e){return Fn(e,t)}}function Eh(t){return Dn(t)?mh(Rt(t)):gh(t)}function Re(t){return typeof t=="function"?t:t==null?at:typeof t=="object"?N(t)?ph(t[0],t[1]):uh(t):Eh(t)}function Th(t,e,n,r){for(var i=-1,s=t==null?0:t.length;++i<s;){var a=t[i];e(r,a,n(a),t)}return r}function yh(t){return function(e,n,r){for(var i=-1,s=Object(e),a=r(e),o=a.length;o--;){var c=a[++i];if(n(s[c],c,s)===!1)break}return e}}var Ah=yh();function _h(t,e){return t&&Ah(t,e,ce)}function vh(t,e){return function(n,r){if(n==null)return n;if(!ve(n))return t(n,r);for(var i=n.length,s=-1,a=Object(n);++s<i&&r(a[s],s,a)!==!1;);return n}}var Qe=vh(_h);function Oh(t,e,n,r){return Qe(t,function(i,s,a){e(r,i,n(i),a)}),r}function Rh(t,e){return function(n,r){var i=N(n)?Th:Oh,s={};return i(n,t,Re(r),s)}}var Vi=Object.prototype,Ih=Vi.hasOwnProperty,Qn=Pn(function(t,e){t=Object(t);var n=-1,r=e.length,i=r>2?e[2]:void 0;for(i&&ei(e[0],e[1],i)&&(r=1);++n<r;)for(var s=e[n],a=hi(s),o=-1,c=a.length;++o<c;){var u=a[o],l=t[u];(l===void 0||Tt(l,Vi[u])&&!Ih.call(t,u))&&(t[u]=s[u])}return t});function Ki(t){return pe(t)&&ve(t)}var Sh=200;function Lh(t,e,n,r){var i=-1,s=Zr,a=!0,o=t.length,c=[],u=e.length;if(!o)return c;e.length>=Sh&&(s=zn,a=!1,e=new ct(e));e:for(;++i<o;){var l=t[i],h=l;if(l=l!==0?l:0,a&&h===h){for(var f=u;f--;)if(e[f]===h)continue e;c.push(l)}else s(e,h,r)||c.push(l)}return c}var Zt=Pn(function(t,e){return Ki(t)?Lh(t,Gn(e,1,Ki,!0)):[]});function ut(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}function z(t,e,n){var r=t==null?0:t.length;return r?(e=e===void 0?1:jt(e),pi(t,e<0?0:e,r)):[]}function St(t,e,n){var r=t==null?0:t.length;return r?(e=e===void 0?1:jt(e),e=r-e,pi(t,0,e<0?0:e)):[]}function kh(t){return typeof t=="function"?t:at}function I(t,e){var n=N(t)?qr:Qe;return n(t,kh(e))}function Ch(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function bh(t,e){var n=!0;return Qe(t,function(r,i,s){return n=!!e(r,i,s),n}),n}function ge(t,e,n){var r=N(t)?Ch:bh;return r(t,Re(e))}function Hi(t,e){var n=[];return Qe(t,function(r,i,s){e(r,i,s)&&n.push(r)}),n}function le(t,e){var n=N(t)?Bn:Hi;return n(t,Re(e))}function Nh(t){return function(e,n,r){var i=Object(e);if(!ve(e)){var s=Re(n);e=ce(e),n=function(o){return s(i[o],o,i)}}var a=t(e,n,r);return a>-1?i[s?e[a]:a]:void 0}}var Mh=Math.max;function Ph(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:jt(n);return i<0&&(i=Mh(r+i,0)),Qr(t,Re(e),i)}var lt=Nh(Ph);function Ee(t){return t&&t.length?t[0]:void 0}function xh(t,e){var n=-1,r=ve(t)?Array(t.length):[];return Qe(t,function(i,s,a){r[++n]=e(i,s,a)}),r}function v(t,e){var n=N(t)?Ft:xh;return n(t,Re(e))}function he(t,e){return Gn(v(t,e))}var wh=Object.prototype,Uh=wh.hasOwnProperty,Dh=Rh(function(t,e,n){Uh.call(t,n)?t[n].push(e):Nn(t,n,[e])}),$h=Object.prototype,Fh=$h.hasOwnProperty;function jh(t,e){return t!=null&&Fh.call(t,e)}function O(t,e){return t!=null&&Bi(t,e,jh)}var Gh="[object String]";function Z(t){return typeof t=="string"||!N(t)&&pe(t)&&Be(t)==Gh}function Bh(t,e){return Ft(e,function(n){return t[n]})}function V(t){return t==null?[]:Bh(t,ce(t))}var Vh=Math.max;function X(t,e,n,r){t=ve(t)?t:V(t),n=n?jt(n):0;var i=t.length;return n<0&&(n=Vh(i+n,0)),Z(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&bn(t,e,n)>-1}function Wi(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=0;return bn(t,e,i)}var Kh="[object Map]",Hh="[object Set]",Wh=Object.prototype,zh=Wh.hasOwnProperty;function U(t){if(t==null)return!0;if(ve(t)&&(N(t)||typeof t=="string"||typeof t.splice=="function"||At(t)||Un(t)||Kt(t)))return!t.length;var e=ue(t);if(e==Kh||e==Hh)return!t.size;if(yt(t))return!li(t).length;for(var n in t)if(zh.call(t,n))return!1;return!0}var Yh="[object RegExp]";function Xh(t){return pe(t)&&Be(t)==Yh}var zi=Ve&&Ve.isRegExp,we=zi?Ht(zi):Xh;function Ue(t){return t===void 0}var qh="Expected a function";function Qh(t){if(typeof t!="function")throw new TypeError(qh);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}function Zh(t,e,n,r){if(!oe(t))return t;e=Yt(e,t);for(var i=-1,s=e.length,a=s-1,o=t;o!=null&&++i<s;){var c=Rt(e[i]),u=n;if(c==="__proto__"||c==="constructor"||c==="prototype")return t;if(i!=a){var l=o[c];u=void 0,u===void 0&&(u=oe(l)?l:Bt(e[i+1])?[]:{})}Vt(o,c,u),o=o[c]}return t}function Jh(t,e,n){for(var r=-1,i=e.length,s={};++r<i;){var a=e[r],o=Fn(t,a);n(o,a)&&Zh(s,Yt(a,t),o)}return s}function Te(t,e){if(t==null)return{};var n=Ft(yu(t),function(r){return[r]});return e=Re(e),Jh(t,n,function(r,i){return e(r,i[0])})}function ef(t,e,n,r,i){return i(t,function(s,a,o){n=r?(r=!1,s):e(n,s,a,o)}),n}function ie(t,e,n){var r=N(t)?iu:ef,i=arguments.length<3;return r(t,Re(e),n,i,Qe)}function Jt(t,e){var n=N(t)?Bn:Hi;return n(t,Qh(Re(e)))}function tf(t,e){var n;return Qe(t,function(r,i,s){return n=e(r,i,s),!n}),!!n}function Yi(t,e,n){var r=N(t)?xi:tf;return r(t,Re(e))}var nf=1/0,rf=ot&&1/Yn(new ot([,-0]))[1]==nf?function(t){return new ot(t)}:B,sf=200;function af(t,e,n){var r=-1,i=Zr,s=t.length,a=!0,o=[],c=o;if(s>=sf){var u=rf(t);if(u)return Yn(u);a=!1,i=zn,c=new ct}else c=o;e:for(;++r<s;){var l=t[r],h=l;if(l=l!==0?l:0,a&&h===h){for(var f=c.length;f--;)if(c[f]===h)continue e;o.push(l)}else i(c,h,n)||(c!==o&&c.push(h),o.push(l))}return o}function Zn(t){return t&&t.length?af(t):[]}function Jn(t){console&&console.error&&console.error(`Error: ${t}`)}function Xi(t){console&&console.warn&&console.warn(`Warning: ${t}`)}function qi(t){const e=new Date().getTime(),n=t();return{time:new Date().getTime()-e,value:n}}function Qi(t){function e(){}e.prototype=t;const n=new e;function r(){return typeof n.bar}return r(),r(),t}function of(t){return cf(t)?t.LABEL:t.name}function cf(t){return Z(t.LABEL)&&t.LABEL!==""}class Ie{get definition(){return this._definition}set definition(e){this._definition=e}constructor(e){this._definition=e}accept(e){e.visit(this),I(this.definition,n=>{n.accept(e)})}}class se extends Ie{constructor(e){super([]),this.idx=1,re(this,Te(e,n=>n!==void 0))}set definition(e){}get definition(){return this.referencedRule!==void 0?this.referencedRule.definition:[]}accept(e){e.visit(this)}}class ht extends Ie{constructor(e){super(e.definition),this.orgText="",re(this,Te(e,n=>n!==void 0))}}class J extends Ie{constructor(e){super(e.definition),this.ignoreAmbiguities=!1,re(this,Te(e,n=>n!==void 0))}}class ee extends Ie{constructor(e){super(e.definition),this.idx=1,re(this,Te(e,n=>n!==void 0))}}class Se extends Ie{constructor(e){super(e.definition),this.idx=1,re(this,Te(e,n=>n!==void 0))}}class Le extends Ie{constructor(e){super(e.definition),this.idx=1,re(this,Te(e,n=>n!==void 0))}}class K extends Ie{constructor(e){super(e.definition),this.idx=1,re(this,Te(e,n=>n!==void 0))}}class ye extends Ie{constructor(e){super(e.definition),this.idx=1,re(this,Te(e,n=>n!==void 0))}}class Ae extends Ie{get definition(){return this._definition}set definition(e){this._definition=e}constructor(e){super(e.definition),this.idx=1,this.ignoreAmbiguities=!1,this.hasPredicates=!1,re(this,Te(e,n=>n!==void 0))}}class ${constructor(e){this.idx=1,re(this,Te(e,n=>n!==void 0))}accept(e){e.visit(this)}}function uf(t){return v(t,en)}function en(t){function e(n){return v(n,en)}if(t instanceof se){const n={type:"NonTerminal",name:t.nonTerminalName,idx:t.idx};return Z(t.label)&&(n.label=t.label),n}else{if(t instanceof J)return{type:"Alternative",definition:e(t.definition)};if(t instanceof ee)return{type:"Option",idx:t.idx,definition:e(t.definition)};if(t instanceof Se)return{type:"RepetitionMandatory",idx:t.idx,definition:e(t.definition)};if(t instanceof Le)return{type:"RepetitionMandatoryWithSeparator",idx:t.idx,separator:en(new $({terminalType:t.separator})),definition:e(t.definition)};if(t instanceof ye)return{type:"RepetitionWithSeparator",idx:t.idx,separator:en(new $({terminalType:t.separator})),definition:e(t.definition)};if(t instanceof K)return{type:"Repetition",idx:t.idx,definition:e(t.definition)};if(t instanceof Ae)return{type:"Alternation",idx:t.idx,definition:e(t.definition)};if(t instanceof $){const n={type:"Terminal",name:t.terminalType.name,label:of(t.terminalType),idx:t.idx};Z(t.label)&&(n.terminalLabel=t.label);const r=t.terminalType.PATTERN;return t.terminalType.PATTERN&&(n.pattern=we(r)?r.source:r),n}else{if(t instanceof ht)return{type:"Rule",name:t.name,orgText:t.orgText,definition:e(t.definition)};throw Error("non exhaustive match")}}}class ft{visit(e){const n=e;switch(n.constructor){case se:return this.visitNonTerminal(n);case J:return this.visitAlternative(n);case ee:return this.visitOption(n);case Se:return this.visitRepetitionMandatory(n);case Le:return this.visitRepetitionMandatoryWithSeparator(n);case ye:return this.visitRepetitionWithSeparator(n);case K:return this.visitRepetition(n);case Ae:return this.visitAlternation(n);case $:return this.visitTerminal(n);case ht:return this.visitRule(n);default:throw Error("non exhaustive match")}}visitNonTerminal(e){}visitAlternative(e){}visitOption(e){}visitRepetition(e){}visitRepetitionMandatory(e){}visitRepetitionMandatoryWithSeparator(e){}visitRepetitionWithSeparator(e){}visitAlternation(e){}visitTerminal(e){}visitRule(e){}}function lf(t){return t instanceof J||t instanceof ee||t instanceof K||t instanceof Se||t instanceof Le||t instanceof ye||t instanceof $||t instanceof ht}function tn(t,e=[]){return t instanceof ee||t instanceof K||t instanceof ye?!0:t instanceof Ae?Yi(t.definition,n=>tn(n,e)):t instanceof se&&X(e,t)?!1:t instanceof Ie?(t instanceof se&&e.push(t),ge(t.definition,n=>tn(n,e))):!1}function hf(t){return t instanceof Ae}function ke(t){if(t instanceof se)return"SUBRULE";if(t instanceof ee)return"OPTION";if(t instanceof Ae)return"OR";if(t instanceof Se)return"AT_LEAST_ONE";if(t instanceof Le)return"AT_LEAST_ONE_SEP";if(t instanceof ye)return"MANY_SEP";if(t instanceof K)return"MANY";if(t instanceof $)return"CONSUME";throw Error("non exhaustive match")}class nn{walk(e,n=[]){I(e.definition,(r,i)=>{const s=z(e.definition,i+1);if(r instanceof se)this.walkProdRef(r,s,n);else if(r instanceof $)this.walkTerminal(r,s,n);else if(r instanceof J)this.walkFlat(r,s,n);else if(r instanceof ee)this.walkOption(r,s,n);else if(r instanceof Se)this.walkAtLeastOne(r,s,n);else if(r instanceof Le)this.walkAtLeastOneSep(r,s,n);else if(r instanceof ye)this.walkManySep(r,s,n);else if(r instanceof K)this.walkMany(r,s,n);else if(r instanceof Ae)this.walkOr(r,s,n);else throw Error("non exhaustive match")})}walkTerminal(e,n,r){}walkProdRef(e,n,r){}walkFlat(e,n,r){const i=n.concat(r);this.walk(e,i)}walkOption(e,n,r){const i=n.concat(r);this.walk(e,i)}walkAtLeastOne(e,n,r){const i=[new ee({definition:e.definition})].concat(n,r);this.walk(e,i)}walkAtLeastOneSep(e,n,r){const i=Zi(e,n,r);this.walk(e,i)}walkMany(e,n,r){const i=[new ee({definition:e.definition})].concat(n,r);this.walk(e,i)}walkManySep(e,n,r){const i=Zi(e,n,r);this.walk(e,i)}walkOr(e,n,r){const i=n.concat(r);I(e.definition,s=>{const a=new J({definition:[s]});this.walk(a,i)})}}function Zi(t,e,n){return[new ee({definition:[new $({terminalType:t.separator})].concat(t.definition)})].concat(e,n)}function Lt(t){if(t instanceof se)return Lt(t.referencedRule);if(t instanceof $)return pf(t);if(lf(t))return ff(t);if(hf(t))return df(t);throw Error("non exhaustive match")}function ff(t){let e=[];const n=t.definition;let r=0,i=n.length>r,s,a=!0;for(;i&&a;)s=n[r],a=tn(s),e=e.concat(Lt(s)),r=r+1,i=n.length>r;return Zn(e)}function df(t){const e=v(t.definition,n=>Lt(n));return Zn(me(e))}function pf(t){return[t.terminalType]}const Ji="_~IN~_";class mf extends nn{constructor(e){super(),this.topProd=e,this.follows={}}startWalking(){return this.walk(this.topProd),this.follows}walkTerminal(e,n,r){}walkProdRef(e,n,r){const i=Ef(e.referencedRule,e.idx)+this.topProd.name,s=n.concat(r),a=new J({definition:s}),o=Lt(a);this.follows[i]=o}}function gf(t){const e={};return I(t,n=>{const r=new mf(n).startWalking();re(e,r)}),e}function Ef(t,e){return t.name+e+Ji}function S(t){return t.charCodeAt(0)}function er(t,e){Array.isArray(t)?t.forEach(function(n){e.push(n)}):e.push(t)}function kt(t,e){if(t[e]===!0)throw"duplicate flag "+e;t[e],t[e]=!0}function dt(t){if(t===void 0)throw Error("Internal Error - Should never get here!");return!0}function Tf(){throw Error("Internal Error - Should never get here!")}function es(t){return t.type==="Character"}const rn=[];for(let t=S("0");t<=S("9");t++)rn.push(t);const sn=[S("_")].concat(rn);for(let t=S("a");t<=S("z");t++)sn.push(t);for(let t=S("A");t<=S("Z");t++)sn.push(t);const ts=[S(" "),S("\f"),S(`
`),S("\r"),S("	"),S("\v"),S("	"),S(" "),S(" "),S(" "),S(" "),S(" "),S(" "),S(" "),S(" "),S(" "),S(" "),S(" "),S(" "),S(" "),S("\u2028"),S("\u2029"),S(" "),S(" "),S("　"),S("\uFEFF")],yf=/[0-9a-fA-F]/,an=/[0-9]/,Af=/[1-9]/;class _f{constructor(){this.idx=0,this.input="",this.groupIdx=0}saveState(){return{idx:this.idx,input:this.input,groupIdx:this.groupIdx}}restoreState(e){this.idx=e.idx,this.input=e.input,this.groupIdx=e.groupIdx}pattern(e){this.idx=0,this.input=e,this.groupIdx=0,this.consumeChar("/");const n=this.disjunction();this.consumeChar("/");const r={type:"Flags",loc:{begin:this.idx,end:e.length},global:!1,ignoreCase:!1,multiLine:!1,unicode:!1,sticky:!1};for(;this.isRegExpFlag();)switch(this.popChar()){case"g":kt(r,"global");break;case"i":kt(r,"ignoreCase");break;case"m":kt(r,"multiLine");break;case"u":kt(r,"unicode");break;case"y":kt(r,"sticky");break}if(this.idx!==this.input.length)throw Error("Redundant input: "+this.input.substring(this.idx));return{type:"Pattern",flags:r,value:n,loc:this.loc(0)}}disjunction(){const e=[],n=this.idx;for(e.push(this.alternative());this.peekChar()==="|";)this.consumeChar("|"),e.push(this.alternative());return{type:"Disjunction",value:e,loc:this.loc(n)}}alternative(){const e=[],n=this.idx;for(;this.isTerm();)e.push(this.term());return{type:"Alternative",value:e,loc:this.loc(n)}}term(){return this.isAssertion()?this.assertion():this.atom()}assertion(){const e=this.idx;switch(this.popChar()){case"^":return{type:"StartAnchor",loc:this.loc(e)};case"$":return{type:"EndAnchor",loc:this.loc(e)};case"\\":switch(this.popChar()){case"b":return{type:"WordBoundary",loc:this.loc(e)};case"B":return{type:"NonWordBoundary",loc:this.loc(e)}}throw Error("Invalid Assertion Escape");case"(":this.consumeChar("?");let n;switch(this.popChar()){case"=":n="Lookahead";break;case"!":n="NegativeLookahead";break}dt(n);const r=this.disjunction();return this.consumeChar(")"),{type:n,value:r,loc:this.loc(e)}}return Tf()}quantifier(e=!1){let n;const r=this.idx;switch(this.popChar()){case"*":n={atLeast:0,atMost:1/0};break;case"+":n={atLeast:1,atMost:1/0};break;case"?":n={atLeast:0,atMost:1};break;case"{":const i=this.integerIncludingZero();switch(this.popChar()){case"}":n={atLeast:i,atMost:i};break;case",":let s;this.isDigit()?(s=this.integerIncludingZero(),n={atLeast:i,atMost:s}):n={atLeast:i,atMost:1/0},this.consumeChar("}");break}if(e===!0&&n===void 0)return;dt(n);break}if(!(e===!0&&n===void 0)&&dt(n))return this.peekChar(0)==="?"?(this.consumeChar("?"),n.greedy=!1):n.greedy=!0,n.type="Quantifier",n.loc=this.loc(r),n}atom(){let e;const n=this.idx;switch(this.peekChar()){case".":e=this.dotAll();break;case"\\":e=this.atomEscape();break;case"[":e=this.characterClass();break;case"(":e=this.group();break}if(e===void 0&&this.isPatternCharacter()&&(e=this.patternCharacter()),dt(e))return e.loc=this.loc(n),this.isQuantifier()&&(e.quantifier=this.quantifier()),e}dotAll(){return this.consumeChar("."),{type:"Set",complement:!0,value:[S(`
`),S("\r"),S("\u2028"),S("\u2029")]}}atomEscape(){switch(this.consumeChar("\\"),this.peekChar()){case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return this.decimalEscapeAtom();case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}decimalEscapeAtom(){return{type:"GroupBackReference",value:this.positiveInteger()}}characterClassEscape(){let e,n=!1;switch(this.popChar()){case"d":e=rn;break;case"D":e=rn,n=!0;break;case"s":e=ts;break;case"S":e=ts,n=!0;break;case"w":e=sn;break;case"W":e=sn,n=!0;break}if(dt(e))return{type:"Set",value:e,complement:n}}controlEscapeAtom(){let e;switch(this.popChar()){case"f":e=S("\f");break;case"n":e=S(`
`);break;case"r":e=S("\r");break;case"t":e=S("	");break;case"v":e=S("\v");break}if(dt(e))return{type:"Character",value:e}}controlLetterEscapeAtom(){this.consumeChar("c");const e=this.popChar();if(/[a-zA-Z]/.test(e)===!1)throw Error("Invalid ");return{type:"Character",value:e.toUpperCase().charCodeAt(0)-64}}nulCharacterAtom(){return this.consumeChar("0"),{type:"Character",value:S("\0")}}hexEscapeSequenceAtom(){return this.consumeChar("x"),this.parseHexDigits(2)}regExpUnicodeEscapeSequenceAtom(){return this.consumeChar("u"),this.parseHexDigits(4)}identityEscapeAtom(){const e=this.popChar();return{type:"Character",value:S(e)}}classPatternCharacterAtom(){switch(this.peekChar()){case`
`:case"\r":case"\u2028":case"\u2029":case"\\":case"]":throw Error("TBD");default:const e=this.popChar();return{type:"Character",value:S(e)}}}characterClass(){const e=[];let n=!1;for(this.consumeChar("["),this.peekChar(0)==="^"&&(this.consumeChar("^"),n=!0);this.isClassAtom();){const r=this.classAtom();if(r.type,es(r)&&this.isRangeDash()){this.consumeChar("-");const i=this.classAtom();if(i.type,es(i)){if(i.value<r.value)throw Error("Range out of order in character class");e.push({from:r.value,to:i.value})}else er(r.value,e),e.push(S("-")),er(i.value,e)}else er(r.value,e)}return this.consumeChar("]"),{type:"Set",complement:n,value:e}}classAtom(){switch(this.peekChar()){case"]":case`
`:case"\r":case"\u2028":case"\u2029":throw Error("TBD");case"\\":return this.classEscape();default:return this.classPatternCharacterAtom()}}classEscape(){switch(this.consumeChar("\\"),this.peekChar()){case"b":return this.consumeChar("b"),{type:"Character",value:S("\b")};case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}group(){let e=!0;switch(this.consumeChar("("),this.peekChar(0)){case"?":this.consumeChar("?"),this.consumeChar(":"),e=!1;break;default:this.groupIdx++;break}const n=this.disjunction();this.consumeChar(")");const r={type:"Group",capturing:e,value:n};return e&&(r.idx=this.groupIdx),r}positiveInteger(){let e=this.popChar();if(Af.test(e)===!1)throw Error("Expecting a positive integer");for(;an.test(this.peekChar(0));)e+=this.popChar();return parseInt(e,10)}integerIncludingZero(){let e=this.popChar();if(an.test(e)===!1)throw Error("Expecting an integer");for(;an.test(this.peekChar(0));)e+=this.popChar();return parseInt(e,10)}patternCharacter(){const e=this.popChar();switch(e){case`
`:case"\r":case"\u2028":case"\u2029":case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":throw Error("TBD");default:return{type:"Character",value:S(e)}}}isRegExpFlag(){switch(this.peekChar(0)){case"g":case"i":case"m":case"u":case"y":return!0;default:return!1}}isRangeDash(){return this.peekChar()==="-"&&this.isClassAtom(1)}isDigit(){return an.test(this.peekChar(0))}isClassAtom(e=0){switch(this.peekChar(e)){case"]":case`
`:case"\r":case"\u2028":case"\u2029":return!1;default:return!0}}isTerm(){return this.isAtom()||this.isAssertion()}isAtom(){if(this.isPatternCharacter())return!0;switch(this.peekChar(0)){case".":case"\\":case"[":case"(":return!0;default:return!1}}isAssertion(){switch(this.peekChar(0)){case"^":case"$":return!0;case"\\":switch(this.peekChar(1)){case"b":case"B":return!0;default:return!1}case"(":return this.peekChar(1)==="?"&&(this.peekChar(2)==="="||this.peekChar(2)==="!");default:return!1}}isQuantifier(){const e=this.saveState();try{return this.quantifier(!0)!==void 0}catch{return!1}finally{this.restoreState(e)}}isPatternCharacter(){switch(this.peekChar()){case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":case"/":case`
`:case"\r":case"\u2028":case"\u2029":return!1;default:return!0}}parseHexDigits(e){let n="";for(let r=0;r<e;r++){const i=this.popChar();if(yf.test(i)===!1)throw Error("Expecting a HexDecimal digits");n+=i}return{type:"Character",value:parseInt(n,16)}}peekChar(e=0){return this.input[this.idx+e]}popChar(){const e=this.peekChar(0);return this.consumeChar(void 0),e}consumeChar(e){if(e!==void 0&&this.input[this.idx]!==e)throw Error("Expected: '"+e+"' but found: '"+this.input[this.idx]+"' at offset: "+this.idx);if(this.idx>=this.input.length)throw Error("Unexpected end of input");this.idx++}loc(e){return{begin:e,end:this.idx}}}class tr{visitChildren(e){for(const n in e){const r=e[n];e.hasOwnProperty(n)&&(r.type!==void 0?this.visit(r):Array.isArray(r)&&r.forEach(i=>{this.visit(i)},this))}}visit(e){switch(e.type){case"Pattern":this.visitPattern(e);break;case"Flags":this.visitFlags(e);break;case"Disjunction":this.visitDisjunction(e);break;case"Alternative":this.visitAlternative(e);break;case"StartAnchor":this.visitStartAnchor(e);break;case"EndAnchor":this.visitEndAnchor(e);break;case"WordBoundary":this.visitWordBoundary(e);break;case"NonWordBoundary":this.visitNonWordBoundary(e);break;case"Lookahead":this.visitLookahead(e);break;case"NegativeLookahead":this.visitNegativeLookahead(e);break;case"Character":this.visitCharacter(e);break;case"Set":this.visitSet(e);break;case"Group":this.visitGroup(e);break;case"GroupBackReference":this.visitGroupBackReference(e);break;case"Quantifier":this.visitQuantifier(e);break}this.visitChildren(e)}visitPattern(e){}visitFlags(e){}visitDisjunction(e){}visitAlternative(e){}visitStartAnchor(e){}visitEndAnchor(e){}visitWordBoundary(e){}visitNonWordBoundary(e){}visitLookahead(e){}visitNegativeLookahead(e){}visitCharacter(e){}visitSet(e){}visitGroup(e){}visitGroupBackReference(e){}visitQuantifier(e){}}let on={};const vf=new _f;function cn(t){const e=t.toString();if(on.hasOwnProperty(e))return on[e];{const n=vf.pattern(e);return on[e]=n,n}}function Of(){on={}}const ns="Complement Sets are not supported for first char optimization",un=`Unable to use "first char" lexer optimizations:
`;function Rf(t,e=!1){try{const n=cn(t);return nr(n.value,{},n.flags.ignoreCase)}catch(n){if(n.message===ns)e&&Xi(`${un}	Unable to optimize: < ${t.toString()} >
	Complement Sets cannot be automatically optimized.
	This will disable the lexer's first char optimizations.
	See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#COMPLEMENT for details.`);else{let r="";e&&(r=`
	This will disable the lexer's first char optimizations.
	See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#REGEXP_PARSING for details.`),Jn(`${un}
	Failed parsing: < ${t.toString()} >
	Using the @chevrotain/regexp-to-ast library
	Please open an issue at: https://github.com/chevrotain/chevrotain/issues`+r)}}return[]}function nr(t,e,n){switch(t.type){case"Disjunction":for(let i=0;i<t.value.length;i++)nr(t.value[i],e,n);break;case"Alternative":const r=t.value;for(let i=0;i<r.length;i++){const s=r[i];switch(s.type){case"EndAnchor":case"GroupBackReference":case"Lookahead":case"NegativeLookahead":case"StartAnchor":case"WordBoundary":case"NonWordBoundary":continue}const a=s;switch(a.type){case"Character":ln(a.value,e,n);break;case"Set":if(a.complement===!0)throw Error(ns);I(a.value,c=>{if(typeof c=="number")ln(c,e,n);else{const u=c;if(n===!0)for(let l=u.from;l<=u.to;l++)ln(l,e,n);else{for(let l=u.from;l<=u.to&&l<bt;l++)ln(l,e,n);if(u.to>=bt){const l=u.from>=bt?u.from:bt,h=u.to,f=Ke(l),T=Ke(h);for(let p=f;p<=T;p++)e[p]=p}}}});break;case"Group":nr(a.value,e,n);break;default:throw Error("Non Exhaustive Match")}const o=a.quantifier!==void 0&&a.quantifier.atLeast===0;if(a.type==="Group"&&rr(a)===!1||a.type!=="Group"&&o===!1)break}break;default:throw Error("non exhaustive match!")}return V(e)}function ln(t,e,n){const r=Ke(t);e[r]=r,n===!0&&If(t,e)}function If(t,e){const n=String.fromCharCode(t),r=n.toUpperCase();if(r!==n){const i=Ke(r.charCodeAt(0));e[i]=i}else{const i=n.toLowerCase();if(i!==n){const s=Ke(i.charCodeAt(0));e[s]=s}}}function rs(t,e){return lt(t.value,n=>{if(typeof n=="number")return X(e,n);{const r=n;return lt(e,i=>r.from<=i&&i<=r.to)!==void 0}})}function rr(t){const e=t.quantifier;return e&&e.atLeast===0?!0:t.value?N(t.value)?ge(t.value,rr):rr(t.value):!1}class Sf extends tr{constructor(e){super(),this.targetCharCodes=e,this.found=!1}visitChildren(e){if(this.found!==!0){switch(e.type){case"Lookahead":this.visitLookahead(e);return;case"NegativeLookahead":this.visitNegativeLookahead(e);return}super.visitChildren(e)}}visitCharacter(e){X(this.targetCharCodes,e.value)&&(this.found=!0)}visitSet(e){e.complement?rs(e,this.targetCharCodes)===void 0&&(this.found=!0):rs(e,this.targetCharCodes)!==void 0&&(this.found=!0)}}function ir(t,e){if(e instanceof RegExp){const n=cn(e),r=new Sf(t);return r.visit(n),r.found}else return lt(e,n=>X(t,n.charCodeAt(0)))!==void 0}const Ze="PATTERN",Ct="defaultMode",hn="modes";let is=typeof new RegExp("(?:)").sticky=="boolean";function Lf(t,e){e=Qn(e,{useSticky:is,debug:!1,safeMode:!1,positionTracking:"full",lineTerminatorCharacters:["\r",`
`],tracer:(y,d)=>d()});const n=e.tracer;n("initCharCodeToOptimizedIndexMap",()=>{qf()});let r;n("Reject Lexer.NA",()=>{r=Jt(t,y=>y[Ze]===q.NA)});let i=!1,s;n("Transform Patterns",()=>{i=!1,s=v(r,y=>{const d=y[Ze];if(we(d)){const m=d.source;return m.length===1&&m!=="^"&&m!=="$"&&m!=="."&&!d.ignoreCase?m:m.length===2&&m[0]==="\\"&&!X(["d","D","s","S","t","r","n","t","0","c","b","B","f","v","w","W"],m[1])?m[1]:e.useSticky?as(d):ss(d)}else{if(Me(d))return i=!0,{exec:d};if(typeof d=="object")return i=!0,d;if(typeof d=="string"){if(d.length===1)return d;{const m=d.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),L=new RegExp(m);return e.useSticky?as(L):ss(L)}}else throw Error("non exhaustive match")}})});let a,o,c,u,l;n("misc mapping",()=>{a=v(r,y=>y.tokenTypeIdx),o=v(r,y=>{const d=y.GROUP;if(d!==q.SKIPPED){if(Z(d))return d;if(Ue(d))return!1;throw Error("non exhaustive match")}}),c=v(r,y=>{const d=y.LONGER_ALT;if(d)return N(d)?v(d,m=>Wi(r,m)):[Wi(r,d)]}),u=v(r,y=>y.PUSH_MODE),l=v(r,y=>O(y,"POP_MODE"))});let h;n("Line Terminator Handling",()=>{const y=us(e.lineTerminatorCharacters);h=v(r,d=>!1),e.positionTracking!=="onlyOffset"&&(h=v(r,d=>O(d,"LINE_BREAKS")?!!d.LINE_BREAKS:cs(d,y)===!1&&ir(y,d.PATTERN)))});let f,T,p,_;n("Misc Mapping #2",()=>{f=v(r,os),T=v(s,zf),p=ie(r,(y,d)=>{const m=d.GROUP;return Z(m)&&m!==q.SKIPPED&&(y[m]=[]),y},{}),_=v(s,(y,d)=>({pattern:s[d],longerAlt:c[d],canLineTerminator:h[d],isCustom:f[d],short:T[d],group:o[d],push:u[d],pop:l[d],tokenTypeIdx:a[d],tokenType:r[d]}))});let R=!0,A=[];return e.safeMode||n("First Char Optimization",()=>{A=ie(r,(y,d,m)=>{if(typeof d.PATTERN=="string"){const L=d.PATTERN.charCodeAt(0),Y=Ke(L);sr(y,Y,_[m])}else if(N(d.START_CHARS_HINT)){let L;I(d.START_CHARS_HINT,Y=>{const de=typeof Y=="string"?Y.charCodeAt(0):Y,Ce=Ke(de);L!==Ce&&(L=Ce,sr(y,Ce,_[m]))})}else if(we(d.PATTERN))if(d.PATTERN.unicode)R=!1,e.ensureOptimizations&&Jn(`${un}	Unable to analyze < ${d.PATTERN.toString()} > pattern.
	The regexp unicode flag is not currently supported by the regexp-to-ast library.
	This will disable the lexer's first char optimizations.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNICODE_OPTIMIZE`);else{const L=Rf(d.PATTERN,e.ensureOptimizations);U(L)&&(R=!1),I(L,Y=>{sr(y,Y,_[m])})}else e.ensureOptimizations&&Jn(`${un}	TokenType: <${d.name}> is using a custom token pattern without providing <start_chars_hint> parameter.
	This will disable the lexer's first char optimizations.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_OPTIMIZE`),R=!1;return y},[])}),{emptyGroups:p,patternIdxToConfig:_,charCodeToPatternIdxToConfig:A,hasCustom:i,canBeOptimized:R}}function kf(t,e){let n=[];const r=bf(t);n=n.concat(r.errors);const i=Nf(r.valid),s=i.valid;return n=n.concat(i.errors),n=n.concat(Cf(s)),n=n.concat(Ff(s)),n=n.concat(jf(s,e)),n=n.concat(Gf(s)),n}function Cf(t){let e=[];const n=le(t,r=>we(r[Ze]));return e=e.concat(Pf(n)),e=e.concat(Uf(n)),e=e.concat(Df(n)),e=e.concat($f(n)),e=e.concat(xf(n)),e}function bf(t){const e=le(t,i=>!O(i,Ze)),n=v(e,i=>({message:"Token Type: ->"+i.name+"<- missing static 'PATTERN' property",type:j.MISSING_PATTERN,tokenTypes:[i]})),r=Zt(t,e);return{errors:n,valid:r}}function Nf(t){const e=le(t,i=>{const s=i[Ze];return!we(s)&&!Me(s)&&!O(s,"exec")&&!Z(s)}),n=v(e,i=>({message:"Token Type: ->"+i.name+"<- static 'PATTERN' can only be a RegExp, a Function matching the {CustomPatternMatcherFunc} type or an Object matching the {ICustomPattern} interface.",type:j.INVALID_PATTERN,tokenTypes:[i]})),r=Zt(t,e);return{errors:n,valid:r}}const Mf=/[^\\][$]/;function Pf(t){class e extends tr{constructor(){super(...arguments),this.found=!1}visitEndAnchor(i){this.found=!0}}const n=le(t,r=>{const i=r.PATTERN;try{const s=cn(i),a=new e;return a.visit(s),a.found}catch{return Mf.test(i.source)}});return v(n,r=>({message:`Unexpected RegExp Anchor Error:
	Token Type: ->`+r.name+`<- static 'PATTERN' cannot contain end of input anchor '$'
	See chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS	for details.`,type:j.EOI_ANCHOR_FOUND,tokenTypes:[r]}))}function xf(t){const e=le(t,n=>n.PATTERN.test(""));return v(e,n=>({message:"Token Type: ->"+n.name+"<- static 'PATTERN' must not match an empty string",type:j.EMPTY_MATCH_PATTERN,tokenTypes:[n]}))}const wf=/[^\\[][\^]|^\^/;function Uf(t){class e extends tr{constructor(){super(...arguments),this.found=!1}visitStartAnchor(i){this.found=!0}}const n=le(t,r=>{const i=r.PATTERN;try{const s=cn(i),a=new e;return a.visit(s),a.found}catch{return wf.test(i.source)}});return v(n,r=>({message:`Unexpected RegExp Anchor Error:
	Token Type: ->`+r.name+`<- static 'PATTERN' cannot contain start of input anchor '^'
	See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS	for details.`,type:j.SOI_ANCHOR_FOUND,tokenTypes:[r]}))}function Df(t){const e=le(t,n=>{const r=n[Ze];return r instanceof RegExp&&(r.multiline||r.global)});return v(e,n=>({message:"Token Type: ->"+n.name+"<- static 'PATTERN' may NOT contain global('g') or multiline('m')",type:j.UNSUPPORTED_FLAGS_FOUND,tokenTypes:[n]}))}function $f(t){const e=[];let n=v(t,i=>ie(t,(s,a)=>(i.PATTERN.source===a.PATTERN.source&&!X(e,a)&&a.PATTERN!==q.NA&&(e.push(a),s.push(a)),s),[]));n=It(n);const r=le(n,i=>i.length>1);return v(r,i=>{const s=v(i,a=>a.name);return{message:`The same RegExp pattern ->${Ee(i).PATTERN}<-has been used in all of the following Token Types: ${s.join(", ")} <-`,type:j.DUPLICATE_PATTERNS_FOUND,tokenTypes:i}})}function Ff(t){const e=le(t,n=>{if(!O(n,"GROUP"))return!1;const r=n.GROUP;return r!==q.SKIPPED&&r!==q.NA&&!Z(r)});return v(e,n=>({message:"Token Type: ->"+n.name+"<- static 'GROUP' can only be Lexer.SKIPPED/Lexer.NA/A String",type:j.INVALID_GROUP_TYPE_FOUND,tokenTypes:[n]}))}function jf(t,e){const n=le(t,r=>r.PUSH_MODE!==void 0&&!X(e,r.PUSH_MODE));return v(n,r=>({message:`Token Type: ->${r.name}<- static 'PUSH_MODE' value cannot refer to a Lexer Mode ->${r.PUSH_MODE}<-which does not exist`,type:j.PUSH_MODE_DOES_NOT_EXIST,tokenTypes:[r]}))}function Gf(t){const e=[],n=ie(t,(r,i,s)=>{const a=i.PATTERN;return a===q.NA||(Z(a)?r.push({str:a,idx:s,tokenType:i}):we(a)&&Vf(a)&&r.push({str:a.source,idx:s,tokenType:i})),r},[]);return I(t,(r,i)=>{I(n,({str:s,idx:a,tokenType:o})=>{if(i<a&&Bf(s,r.PATTERN)){const c=`Token: ->${o.name}<- can never be matched.
Because it appears AFTER the Token Type ->${r.name}<-in the lexer's definition.
See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNREACHABLE`;e.push({message:c,type:j.UNREACHABLE_PATTERN,tokenTypes:[r,o]})}})}),e}function Bf(t,e){if(we(e)){const n=e.exec(t);return n!==null&&n.index===0}else{if(Me(e))return e(t,0,[],{});if(O(e,"exec"))return e.exec(t,0,[],{});if(typeof e=="string")return e===t;throw Error("non exhaustive match")}}function Vf(t){return lt([".","\\","[","]","|","^","$","(",")","?","*","+","{"],e=>t.source.indexOf(e)!==-1)===void 0}function ss(t){const e=t.ignoreCase?"i":"";return new RegExp(`^(?:${t.source})`,e)}function as(t){const e=t.ignoreCase?"iy":"y";return new RegExp(`${t.source}`,e)}function Kf(t,e,n){const r=[];return O(t,Ct)||r.push({message:"A MultiMode Lexer cannot be initialized without a <"+Ct+`> property in its definition
`,type:j.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE}),O(t,hn)||r.push({message:"A MultiMode Lexer cannot be initialized without a <"+hn+`> property in its definition
`,type:j.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY}),O(t,hn)&&O(t,Ct)&&!O(t.modes,t.defaultMode)&&r.push({message:`A MultiMode Lexer cannot be initialized with a ${Ct}: <${t.defaultMode}>which does not exist
`,type:j.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST}),O(t,hn)&&I(t.modes,(i,s)=>{I(i,(a,o)=>{if(Ue(a))r.push({message:`A Lexer cannot be initialized using an undefined Token Type. Mode:<${s}> at index: <${o}>
`,type:j.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED});else if(O(a,"LONGER_ALT")){const c=N(a.LONGER_ALT)?a.LONGER_ALT:[a.LONGER_ALT];I(c,u=>{!Ue(u)&&!X(i,u)&&r.push({message:`A MultiMode Lexer cannot be initialized with a longer_alt <${u.name}> on token <${a.name}> outside of mode <${s}>
`,type:j.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE})})}})}),r}function Hf(t,e,n){const r=[];let i=!1;const s=It(me(V(t.modes))),a=Jt(s,c=>c[Ze]===q.NA),o=us(n);return e&&I(a,c=>{const u=cs(c,o);if(u!==!1){const l={message:Xf(c,u),type:u.issue,tokenType:c};r.push(l)}else O(c,"LINE_BREAKS")?c.LINE_BREAKS===!0&&(i=!0):ir(o,c.PATTERN)&&(i=!0)}),e&&!i&&r.push({message:`Warning: No LINE_BREAKS Found.
	This Lexer has been defined to track line and column information,
	But none of the Token Types can be identified as matching a line terminator.
	See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#LINE_BREAKS 
	for details.`,type:j.NO_LINE_BREAKS_FLAGS}),r}function Wf(t){const e={},n=ce(t);return I(n,r=>{const i=t[r];if(N(i))e[r]=[];else throw Error("non exhaustive match")}),e}function os(t){const e=t.PATTERN;if(we(e))return!1;if(Me(e)||O(e,"exec"))return!0;if(Z(e))return!1;throw Error("non exhaustive match")}function zf(t){return Z(t)&&t.length===1?t.charCodeAt(0):!1}const Yf={test:function(t){const e=t.length;for(let n=this.lastIndex;n<e;n++){const r=t.charCodeAt(n);if(r===10)return this.lastIndex=n+1,!0;if(r===13)return t.charCodeAt(n+1)===10?this.lastIndex=n+2:this.lastIndex=n+1,!0}return!1},lastIndex:0};function cs(t,e){if(O(t,"LINE_BREAKS"))return!1;if(we(t.PATTERN)){try{ir(e,t.PATTERN)}catch(n){return{issue:j.IDENTIFY_TERMINATOR,errMsg:n.message}}return!1}else{if(Z(t.PATTERN))return!1;if(os(t))return{issue:j.CUSTOM_LINE_BREAK};throw Error("non exhaustive match")}}function Xf(t,e){if(e.issue===j.IDENTIFY_TERMINATOR)return`Warning: unable to identify line terminator usage in pattern.
	The problem is in the <${t.name}> Token Type
	 Root cause: ${e.errMsg}.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#IDENTIFY_TERMINATOR`;if(e.issue===j.CUSTOM_LINE_BREAK)return`Warning: A Custom Token Pattern should specify the <line_breaks> option.
	The problem is in the <${t.name}> Token Type
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_LINE_BREAK`;throw Error("non exhaustive match")}function us(t){return v(t,e=>Z(e)?e.charCodeAt(0):e)}function sr(t,e,n){t[e]===void 0?t[e]=[n]:t[e].push(n)}const bt=256;let fn=[];function Ke(t){return t<bt?t:fn[t]}function qf(){if(U(fn)){fn=new Array(65536);for(let t=0;t<65536;t++)fn[t]=t>255?255+~~(t/255):t}}function Nt(t,e){const n=t.tokenTypeIdx;return n===e.tokenTypeIdx?!0:e.isParent===!0&&e.categoryMatchesMap[n]===!0}function dn(t,e){return t.tokenTypeIdx===e.tokenTypeIdx}let ls=1;const hs={};function Mt(t){const e=Qf(t);Zf(e),ed(e),Jf(e),I(e,n=>{n.isParent=n.categoryMatches.length>0})}function Qf(t){let e=W(t),n=t,r=!0;for(;r;){n=It(me(v(n,s=>s.CATEGORIES)));const i=Zt(n,e);e=e.concat(i),U(i)?r=!1:n=i}return e}function Zf(t){I(t,e=>{ds(e)||(hs[ls]=e,e.tokenTypeIdx=ls++),ps(e)&&!N(e.CATEGORIES)&&(e.CATEGORIES=[e.CATEGORIES]),ps(e)||(e.CATEGORIES=[]),td(e)||(e.categoryMatches=[]),nd(e)||(e.categoryMatchesMap={})})}function Jf(t){I(t,e=>{e.categoryMatches=[],I(e.categoryMatchesMap,(n,r)=>{e.categoryMatches.push(hs[r].tokenTypeIdx)})})}function ed(t){I(t,e=>{fs([],e)})}function fs(t,e){I(t,n=>{e.categoryMatchesMap[n.tokenTypeIdx]=!0}),I(e.CATEGORIES,n=>{const r=t.concat(e);X(r,n)||fs(r,n)})}function ds(t){return O(t,"tokenTypeIdx")}function ps(t){return O(t,"CATEGORIES")}function td(t){return O(t,"categoryMatches")}function nd(t){return O(t,"categoryMatchesMap")}function rd(t){return O(t,"tokenTypeIdx")}const id={buildUnableToPopLexerModeMessage(t){return`Unable to pop Lexer Mode after encountering Token ->${t.image}<- The Mode Stack is empty`},buildUnexpectedCharactersMessage(t,e,n,r,i){return`unexpected character: ->${t.charAt(e)}<- at offset: ${e}, skipped ${n} characters.`}};var j;(function(t){t[t.MISSING_PATTERN=0]="MISSING_PATTERN",t[t.INVALID_PATTERN=1]="INVALID_PATTERN",t[t.EOI_ANCHOR_FOUND=2]="EOI_ANCHOR_FOUND",t[t.UNSUPPORTED_FLAGS_FOUND=3]="UNSUPPORTED_FLAGS_FOUND",t[t.DUPLICATE_PATTERNS_FOUND=4]="DUPLICATE_PATTERNS_FOUND",t[t.INVALID_GROUP_TYPE_FOUND=5]="INVALID_GROUP_TYPE_FOUND",t[t.PUSH_MODE_DOES_NOT_EXIST=6]="PUSH_MODE_DOES_NOT_EXIST",t[t.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE=7]="MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE",t[t.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY=8]="MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY",t[t.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST=9]="MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST",t[t.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED=10]="LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED",t[t.SOI_ANCHOR_FOUND=11]="SOI_ANCHOR_FOUND",t[t.EMPTY_MATCH_PATTERN=12]="EMPTY_MATCH_PATTERN",t[t.NO_LINE_BREAKS_FLAGS=13]="NO_LINE_BREAKS_FLAGS",t[t.UNREACHABLE_PATTERN=14]="UNREACHABLE_PATTERN",t[t.IDENTIFY_TERMINATOR=15]="IDENTIFY_TERMINATOR",t[t.CUSTOM_LINE_BREAK=16]="CUSTOM_LINE_BREAK",t[t.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE=17]="MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE"})(j||(j={}));const Pt={deferDefinitionErrorsHandling:!1,positionTracking:"full",lineTerminatorsPattern:/\n|\r\n?/g,lineTerminatorCharacters:[`
`,"\r"],ensureOptimizations:!1,safeMode:!1,errorMessageProvider:id,traceInitPerf:!1,skipValidations:!1,recoveryEnabled:!0};Object.freeze(Pt);class q{constructor(e,n=Pt){if(this.lexerDefinition=e,this.lexerDefinitionErrors=[],this.lexerDefinitionWarning=[],this.patternIdxToConfig={},this.charCodeToPatternIdxToConfig={},this.modes=[],this.emptyGroups={},this.trackStartLines=!0,this.trackEndLines=!0,this.hasCustom=!1,this.canModeBeOptimized={},this.TRACE_INIT=(i,s)=>{if(this.traceInitPerf===!0){this.traceInitIndent++;const a=new Array(this.traceInitIndent+1).join("	");this.traceInitIndent<this.traceInitMaxIdent&&console.log(`${a}--> <${i}>`);const{time:o,value:c}=qi(s),u=o>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&u(`${a}<-- <${i}> time: ${o}ms`),this.traceInitIndent--,c}else return s()},typeof n=="boolean")throw Error(`The second argument to the Lexer constructor is now an ILexerConfig Object.
a boolean 2nd argument is no longer supported`);this.config=re({},Pt,n);const r=this.config.traceInitPerf;r===!0?(this.traceInitMaxIdent=1/0,this.traceInitPerf=!0):typeof r=="number"&&(this.traceInitMaxIdent=r,this.traceInitPerf=!0),this.traceInitIndent=-1,this.TRACE_INIT("Lexer Constructor",()=>{let i,s=!0;this.TRACE_INIT("Lexer Config handling",()=>{if(this.config.lineTerminatorsPattern===Pt.lineTerminatorsPattern)this.config.lineTerminatorsPattern=Yf;else if(this.config.lineTerminatorCharacters===Pt.lineTerminatorCharacters)throw Error(`Error: Missing <lineTerminatorCharacters> property on the Lexer config.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#MISSING_LINE_TERM_CHARS`);if(n.safeMode&&n.ensureOptimizations)throw Error('"safeMode" and "ensureOptimizations" flags are mutually exclusive.');this.trackStartLines=/full|onlyStart/i.test(this.config.positionTracking),this.trackEndLines=/full/i.test(this.config.positionTracking),N(e)?i={modes:{defaultMode:W(e)},defaultMode:Ct}:(s=!1,i=W(e))}),this.config.skipValidations===!1&&(this.TRACE_INIT("performRuntimeChecks",()=>{this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(Kf(i,this.trackStartLines,this.config.lineTerminatorCharacters))}),this.TRACE_INIT("performWarningRuntimeChecks",()=>{this.lexerDefinitionWarning=this.lexerDefinitionWarning.concat(Hf(i,this.trackStartLines,this.config.lineTerminatorCharacters))})),i.modes=i.modes?i.modes:{},I(i.modes,(o,c)=>{i.modes[c]=Jt(o,u=>Ue(u))});const a=ce(i.modes);if(I(i.modes,(o,c)=>{this.TRACE_INIT(`Mode: <${c}> processing`,()=>{if(this.modes.push(c),this.config.skipValidations===!1&&this.TRACE_INIT("validatePatterns",()=>{this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(kf(o,a))}),U(this.lexerDefinitionErrors)){Mt(o);let u;this.TRACE_INIT("analyzeTokenTypes",()=>{u=Lf(o,{lineTerminatorCharacters:this.config.lineTerminatorCharacters,positionTracking:n.positionTracking,ensureOptimizations:n.ensureOptimizations,safeMode:n.safeMode,tracer:this.TRACE_INIT})}),this.patternIdxToConfig[c]=u.patternIdxToConfig,this.charCodeToPatternIdxToConfig[c]=u.charCodeToPatternIdxToConfig,this.emptyGroups=re({},this.emptyGroups,u.emptyGroups),this.hasCustom=u.hasCustom||this.hasCustom,this.canModeBeOptimized[c]=u.canBeOptimized}})}),this.defaultMode=i.defaultMode,!U(this.lexerDefinitionErrors)&&!this.config.deferDefinitionErrorsHandling){const o=v(this.lexerDefinitionErrors,c=>c.message).join(`-----------------------
`);throw new Error(`Errors detected in definition of Lexer:
`+o)}I(this.lexerDefinitionWarning,o=>{Xi(o.message)}),this.TRACE_INIT("Choosing sub-methods implementations",()=>{if(is?(this.chopInput=at,this.match=this.matchWithTest):(this.updateLastIndex=B,this.match=this.matchWithExec),s&&(this.handleModes=B),this.trackStartLines===!1&&(this.computeNewColumn=at),this.trackEndLines===!1&&(this.updateTokenEndLineColumnLocation=B),/full/i.test(this.config.positionTracking))this.createTokenInstance=this.createFullToken;else if(/onlyStart/i.test(this.config.positionTracking))this.createTokenInstance=this.createStartOnlyToken;else if(/onlyOffset/i.test(this.config.positionTracking))this.createTokenInstance=this.createOffsetOnlyToken;else throw Error(`Invalid <positionTracking> config option: "${this.config.positionTracking}"`);this.hasCustom?(this.addToken=this.addTokenUsingPush,this.handlePayload=this.handlePayloadWithCustom):(this.addToken=this.addTokenUsingMemberAccess,this.handlePayload=this.handlePayloadNoCustom)}),this.TRACE_INIT("Failed Optimization Warnings",()=>{const o=ie(this.canModeBeOptimized,(c,u,l)=>(u===!1&&c.push(l),c),[]);if(n.ensureOptimizations&&!U(o))throw Error(`Lexer Modes: < ${o.join(", ")} > cannot be optimized.
	 Disable the "ensureOptimizations" lexer config flag to silently ignore this and run the lexer in an un-optimized mode.
	 Or inspect the console log for details on how to resolve these issues.`)}),this.TRACE_INIT("clearRegExpParserCache",()=>{Of()}),this.TRACE_INIT("toFastProperties",()=>{Qi(this)})})}tokenize(e,n=this.defaultMode){if(!U(this.lexerDefinitionErrors)){const r=v(this.lexerDefinitionErrors,i=>i.message).join(`-----------------------
`);throw new Error(`Unable to Tokenize because Errors detected in definition of Lexer:
`+r)}return this.tokenizeInternal(e,n)}tokenizeInternal(e,n){let r,i,s,a,o,c,u,l,h,f,T,p,_,R,A;const y=e,d=y.length;let m=0,L=0;const Y=this.hasCustom?0:Math.floor(e.length/10),de=new Array(Y),Ce=[];let tt=this.trackStartLines?1:void 0,be=this.trackStartLines?1:void 0;const nt=Wf(this.emptyGroups),Ur=this.trackStartLines,Dt=this.config.lineTerminatorsPattern;let pt=0,Ne=[],rt=[];const mt=[],gt=[];Object.freeze(gt);let it;function Ln(){return Ne}function g(x){const H=Ke(x),$e=rt[H];return $e===void 0?gt:$e}const E=x=>{if(mt.length===1&&x.tokenType.PUSH_MODE===void 0){const H=this.config.errorMessageProvider.buildUnableToPopLexerModeMessage(x);Ce.push({offset:x.startOffset,line:x.startLine,column:x.startColumn,length:x.image.length,message:H})}else{mt.pop();const H=ut(mt);Ne=this.patternIdxToConfig[H],rt=this.charCodeToPatternIdxToConfig[H],pt=Ne.length;const $e=this.canModeBeOptimized[H]&&this.config.safeMode===!1;rt&&$e?it=g:it=Ln}};function k(x){mt.push(x),rt=this.charCodeToPatternIdxToConfig[x],Ne=this.patternIdxToConfig[x],pt=Ne.length,pt=Ne.length;const H=this.canModeBeOptimized[x]&&this.config.safeMode===!1;rt&&H?it=g:it=Ln}k.call(this,n);let C;const F=this.config.recoveryEnabled;for(;m<d;){c=null;const x=y.charCodeAt(m),H=it(x),$e=H.length;for(r=0;r<$e;r++){C=H[r];const te=C.pattern;u=null;const Fe=C.short;if(Fe!==!1?x===Fe&&(c=te):C.isCustom===!0?(A=te.exec(y,m,de,nt),A!==null?(c=A[0],A.payload!==void 0&&(u=A.payload)):c=null):(this.updateLastIndex(te,m),c=this.match(te,e,m)),c!==null){if(o=C.longerAlt,o!==void 0){const We=o.length;for(s=0;s<We;s++){const je=Ne[o[s]],st=je.pattern;if(l=null,je.isCustom===!0?(A=st.exec(y,m,de,nt),A!==null?(a=A[0],A.payload!==void 0&&(l=A.payload)):a=null):(this.updateLastIndex(st,m),a=this.match(st,e,m)),a&&a.length>c.length){c=a,u=l,C=je;break}}}break}}if(c!==null){if(h=c.length,f=C.group,f!==void 0&&(T=C.tokenTypeIdx,p=this.createTokenInstance(c,m,T,C.tokenType,tt,be,h),this.handlePayload(p,u),f===!1?L=this.addToken(de,L,p):nt[f].push(p)),e=this.chopInput(e,h),m=m+h,be=this.computeNewColumn(be,h),Ur===!0&&C.canLineTerminator===!0){let te=0,Fe,We;Dt.lastIndex=0;do Fe=Dt.test(c),Fe===!0&&(We=Dt.lastIndex-1,te++);while(Fe===!0);te!==0&&(tt=tt+te,be=h-We,this.updateTokenEndLineColumnLocation(p,f,We,te,tt,be,h))}this.handleModes(C,E,k,p)}else{const te=m,Fe=tt,We=be;let je=F===!1;for(;je===!1&&m<d;)for(e=this.chopInput(e,1),m++,i=0;i<pt;i++){const st=Ne[i],Dr=st.pattern,Sa=st.short;if(Sa!==!1?y.charCodeAt(m)===Sa&&(je=!0):st.isCustom===!0?je=Dr.exec(y,m,de,nt)!==null:(this.updateLastIndex(Dr,m),je=Dr.exec(e)!==null),je===!0)break}if(_=m-te,be=this.computeNewColumn(be,_),R=this.config.errorMessageProvider.buildUnexpectedCharactersMessage(y,te,_,Fe,We),Ce.push({offset:te,line:Fe,column:We,length:_,message:R}),F===!1)break}}return this.hasCustom||(de.length=L),{tokens:de,groups:nt,errors:Ce}}handleModes(e,n,r,i){if(e.pop===!0){const s=e.push;n(i),s!==void 0&&r.call(this,s)}else e.push!==void 0&&r.call(this,e.push)}chopInput(e,n){return e.substring(n)}updateLastIndex(e,n){e.lastIndex=n}updateTokenEndLineColumnLocation(e,n,r,i,s,a,o){let c,u;n!==void 0&&(c=r===o-1,u=c?-1:0,i===1&&c===!0||(e.endLine=s+u,e.endColumn=a-1+-u))}computeNewColumn(e,n){return e+n}createOffsetOnlyToken(e,n,r,i){return{image:e,startOffset:n,tokenTypeIdx:r,tokenType:i}}createStartOnlyToken(e,n,r,i,s,a){return{image:e,startOffset:n,startLine:s,startColumn:a,tokenTypeIdx:r,tokenType:i}}createFullToken(e,n,r,i,s,a,o){return{image:e,startOffset:n,endOffset:n+o-1,startLine:s,endLine:s,startColumn:a,endColumn:a+o-1,tokenTypeIdx:r,tokenType:i}}addTokenUsingPush(e,n,r){return e.push(r),n}addTokenUsingMemberAccess(e,n,r){return e[n]=r,n++,n}handlePayloadNoCustom(e,n){}handlePayloadWithCustom(e,n){n!==null&&(e.payload=n)}matchWithTest(e,n,r){return e.test(n)===!0?n.substring(r,e.lastIndex):null}matchWithExec(e,n){const r=e.exec(n);return r!==null?r[0]:null}}q.SKIPPED="This marks a skipped Token pattern, this means each token identified by it willbe consumed and then thrown into oblivion, this can be used to for example to completely ignore whitespace.",q.NA=/NOT_APPLICABLE/;function xt(t){return ms(t)?t.LABEL:t.name}function ms(t){return Z(t.LABEL)&&t.LABEL!==""}const sd="parent",gs="categories",Es="label",Ts="group",ys="push_mode",As="pop_mode",_s="longer_alt",vs="line_breaks",Os="start_chars_hint";function P(t){return ad(t)}function ad(t){const e=t.pattern,n={};if(n.name=t.name,Ue(e)||(n.PATTERN=e),O(t,sd))throw`The parent property is no longer supported.
See: https://github.com/chevrotain/chevrotain/issues/564#issuecomment-349062346 for details.`;return O(t,gs)&&(n.CATEGORIES=t[gs]),Mt([n]),O(t,Es)&&(n.LABEL=t[Es]),O(t,Ts)&&(n.GROUP=t[Ts]),O(t,As)&&(n.POP_MODE=t[As]),O(t,ys)&&(n.PUSH_MODE=t[ys]),O(t,_s)&&(n.LONGER_ALT=t[_s]),O(t,vs)&&(n.LINE_BREAKS=t[vs]),O(t,Os)&&(n.START_CHARS_HINT=t[Os]),n}const Je=P({name:"EOF",pattern:q.NA});Mt([Je]);function ar(t,e,n,r,i,s,a,o){return{image:e,startOffset:n,endOffset:r,startLine:i,endLine:s,startColumn:a,endColumn:o,tokenTypeIdx:t.tokenTypeIdx,tokenType:t}}function od(t,e){return Nt(t,e)}const Rs={buildMismatchTokenMessage({expected:t,actual:e,previous:n,ruleName:r}){return`Expecting ${ms(t)?`--> ${xt(t)} <--`:`token of type --> ${t.name} <--`} but found --> '${e.image}' <--`},buildNotAllInputParsedMessage({firstRedundant:t,ruleName:e}){return"Redundant input, expecting EOF but found: "+t.image},buildNoViableAltMessage({expectedPathsPerAlt:t,actual:e,previous:n,customUserDescription:r,ruleName:i}){const s="Expecting: ",a=`
but found: '`+Ee(e).image+"'";if(r)return s+r+a;{const o=ie(t,(l,h)=>l.concat(h),[]),c=v(o,l=>`[${v(l,h=>xt(h)).join(", ")}]`),u=`one of these possible Token sequences:
${v(c,(l,h)=>`  ${h+1}. ${l}`).join(`
`)}`;return s+u+a}},buildEarlyExitMessage({expectedIterationPaths:t,actual:e,customUserDescription:n,ruleName:r}){const i="Expecting: ",s=`
but found: '`+Ee(e).image+"'";if(n)return i+n+s;{const a=`expecting at least one iteration which starts with one of these possible Token sequences::
  <${v(t,o=>`[${v(o,c=>xt(c)).join(",")}]`).join(" ,")}>`;return i+a+s}}};Object.freeze(Rs);const cd={buildRuleNotFoundError(t,e){return"Invalid grammar, reference to a rule which is not defined: ->"+e.nonTerminalName+`<-
inside top level rule: ->`+t.name+"<-"}},et={buildDuplicateFoundError(t,e){function n(l){return l instanceof $?l.terminalType.name:l instanceof se?l.nonTerminalName:""}const r=t.name,i=Ee(e),s=i.idx,a=ke(i),o=n(i),c=s>0;let u=`->${a}${c?s:""}<- ${o?`with argument: ->${o}<-`:""}
                  appears more than once (${e.length} times) in the top level rule: ->${r}<-.                  
                  For further details see: https://chevrotain.io/docs/FAQ.html#NUMERICAL_SUFFIXES 
                  `;return u=u.replace(/[ \t]+/g," "),u=u.replace(/\s\s+/g,`
`),u},buildNamespaceConflictError(t){return`Namespace conflict found in grammar.
The grammar has both a Terminal(Token) and a Non-Terminal(Rule) named: <${t.name}>.
To resolve this make sure each Terminal and Non-Terminal names are unique
This is easy to accomplish by using the convention that Terminal names start with an uppercase letter
and Non-Terminal names start with a lower case letter.`},buildAlternationPrefixAmbiguityError(t){const e=v(t.prefixPath,r=>xt(r)).join(", "),n=t.alternation.idx===0?"":t.alternation.idx;return`Ambiguous alternatives: <${t.ambiguityIndices.join(" ,")}> due to common lookahead prefix
in <OR${n}> inside <${t.topLevelRule.name}> Rule,
<${e}> may appears as a prefix path in all these alternatives.
See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#COMMON_PREFIX
For Further details.`},buildAlternationAmbiguityError(t){const e=v(t.prefixPath,i=>xt(i)).join(", "),n=t.alternation.idx===0?"":t.alternation.idx;let r=`Ambiguous Alternatives Detected: <${t.ambiguityIndices.join(" ,")}> in <OR${n}> inside <${t.topLevelRule.name}> Rule,
<${e}> may appears as a prefix path in all these alternatives.
`;return r=r+`See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES
For Further details.`,r},buildEmptyRepetitionError(t){let e=ke(t.repetition);return t.repetition.idx!==0&&(e+=t.repetition.idx),`The repetition <${e}> within Rule <${t.topLevelRule.name}> can never consume any tokens.
This could lead to an infinite loop.`},buildTokenNameError(t){return"deprecated"},buildEmptyAlternationError(t){return`Ambiguous empty alternative: <${t.emptyChoiceIdx+1}> in <OR${t.alternation.idx}> inside <${t.topLevelRule.name}> Rule.
Only the last alternative may be an empty alternative.`},buildTooManyAlternativesError(t){return`An Alternation cannot have more than 256 alternatives:
<OR${t.alternation.idx}> inside <${t.topLevelRule.name}> Rule.
 has ${t.alternation.definition.length+1} alternatives.`},buildLeftRecursionError(t){const e=t.topLevelRule.name,n=v(t.leftRecursionPath,i=>i.name),r=`${e} --> ${n.concat([e]).join(" --> ")}`;return`Left Recursion found in grammar.
rule: <${e}> can be invoked from itself (directly or indirectly)
without consuming any Tokens. The grammar path that causes this is: 
 ${r}
 To fix this refactor your grammar to remove the left recursion.
see: https://en.wikipedia.org/wiki/LL_parser#Left_factoring.`},buildInvalidRuleNameError(t){return"deprecated"},buildDuplicateRuleNameError(t){let e;return t.topLevelRule instanceof ht?e=t.topLevelRule.name:e=t.topLevelRule,`Duplicate definition, rule: ->${e}<- is already defined in the grammar: ->${t.grammarName}<-`}};function ud(t,e){const n=new ld(t,e);return n.resolveRefs(),n.errors}class ld extends ft{constructor(e,n){super(),this.nameToTopRule=e,this.errMsgProvider=n,this.errors=[]}resolveRefs(){I(V(this.nameToTopRule),e=>{this.currTopLevel=e,e.accept(this)})}visitNonTerminal(e){const n=this.nameToTopRule[e.nonTerminalName];if(n)e.referencedRule=n;else{const r=this.errMsgProvider.buildRuleNotFoundError(this.currTopLevel,e);this.errors.push({message:r,type:Q.UNRESOLVED_SUBRULE_REF,ruleName:this.currTopLevel.name,unresolvedRefName:e.nonTerminalName})}}}class hd extends nn{constructor(e,n){super(),this.topProd=e,this.path=n,this.possibleTokTypes=[],this.nextProductionName="",this.nextProductionOccurrence=0,this.found=!1,this.isAtEndOfPath=!1}startWalking(){if(this.found=!1,this.path.ruleStack[0]!==this.topProd.name)throw Error("The path does not start with the walker's top Rule!");return this.ruleStack=W(this.path.ruleStack).reverse(),this.occurrenceStack=W(this.path.occurrenceStack).reverse(),this.ruleStack.pop(),this.occurrenceStack.pop(),this.updateExpectedNext(),this.walk(this.topProd),this.possibleTokTypes}walk(e,n=[]){this.found||super.walk(e,n)}walkProdRef(e,n,r){if(e.referencedRule.name===this.nextProductionName&&e.idx===this.nextProductionOccurrence){const i=n.concat(r);this.updateExpectedNext(),this.walk(e.referencedRule,i)}}updateExpectedNext(){U(this.ruleStack)?(this.nextProductionName="",this.nextProductionOccurrence=0,this.isAtEndOfPath=!0):(this.nextProductionName=this.ruleStack.pop(),this.nextProductionOccurrence=this.occurrenceStack.pop())}}class fd extends hd{constructor(e,n){super(e,n),this.path=n,this.nextTerminalName="",this.nextTerminalOccurrence=0,this.nextTerminalName=this.path.lastTok.name,this.nextTerminalOccurrence=this.path.lastTokOccurrence}walkTerminal(e,n,r){if(this.isAtEndOfPath&&e.terminalType.name===this.nextTerminalName&&e.idx===this.nextTerminalOccurrence&&!this.found){const i=n.concat(r),s=new J({definition:i});this.possibleTokTypes=Lt(s),this.found=!0}}}class pn extends nn{constructor(e,n){super(),this.topRule=e,this.occurrence=n,this.result={token:void 0,occurrence:void 0,isEndOfRule:void 0}}startWalking(){return this.walk(this.topRule),this.result}}class dd extends pn{walkMany(e,n,r){if(e.idx===this.occurrence){const i=Ee(n.concat(r));this.result.isEndOfRule=i===void 0,i instanceof $&&(this.result.token=i.terminalType,this.result.occurrence=i.idx)}else super.walkMany(e,n,r)}}class Is extends pn{walkManySep(e,n,r){if(e.idx===this.occurrence){const i=Ee(n.concat(r));this.result.isEndOfRule=i===void 0,i instanceof $&&(this.result.token=i.terminalType,this.result.occurrence=i.idx)}else super.walkManySep(e,n,r)}}class pd extends pn{walkAtLeastOne(e,n,r){if(e.idx===this.occurrence){const i=Ee(n.concat(r));this.result.isEndOfRule=i===void 0,i instanceof $&&(this.result.token=i.terminalType,this.result.occurrence=i.idx)}else super.walkAtLeastOne(e,n,r)}}class Ss extends pn{walkAtLeastOneSep(e,n,r){if(e.idx===this.occurrence){const i=Ee(n.concat(r));this.result.isEndOfRule=i===void 0,i instanceof $&&(this.result.token=i.terminalType,this.result.occurrence=i.idx)}else super.walkAtLeastOneSep(e,n,r)}}function or(t,e,n=[]){n=W(n);let r=[],i=0;function s(o){return o.concat(z(t,i+1))}function a(o){const c=or(s(o),e,n);return r.concat(c)}for(;n.length<e&&i<t.length;){const o=t[i];if(o instanceof J||o instanceof se)return a(o.definition);if(o instanceof ee)r=a(o.definition);else if(o instanceof Se){const c=o.definition.concat([new K({definition:o.definition})]);return a(c)}else if(o instanceof Le){const c=[new J({definition:o.definition}),new K({definition:[new $({terminalType:o.separator})].concat(o.definition)})];return a(c)}else if(o instanceof ye){const c=o.definition.concat([new K({definition:[new $({terminalType:o.separator})].concat(o.definition)})]);r=a(c)}else if(o instanceof K){const c=o.definition.concat([new K({definition:o.definition})]);r=a(c)}else{if(o instanceof Ae)return I(o.definition,c=>{U(c.definition)===!1&&(r=a(c.definition))}),r;if(o instanceof $)n.push(o.terminalType);else throw Error("non exhaustive match")}i++}return r.push({partialPath:n,suffixDef:z(t,i)}),r}function Ls(t,e,n,r){const i="EXIT_NONE_TERMINAL",s=[i],a="EXIT_ALTERNATIVE";let o=!1;const c=e.length,u=c-r-1,l=[],h=[];for(h.push({idx:-1,def:t,ruleStack:[],occurrenceStack:[]});!U(h);){const f=h.pop();if(f===a){o&&ut(h).idx<=u&&h.pop();continue}const T=f.def,p=f.idx,_=f.ruleStack,R=f.occurrenceStack;if(U(T))continue;const A=T[0];if(A===i){const y={idx:p,def:z(T),ruleStack:St(_),occurrenceStack:St(R)};h.push(y)}else if(A instanceof $)if(p<c-1){const y=p+1,d=e[y];if(n(d,A.terminalType)){const m={idx:y,def:z(T),ruleStack:_,occurrenceStack:R};h.push(m)}}else if(p===c-1)l.push({nextTokenType:A.terminalType,nextTokenOccurrence:A.idx,ruleStack:_,occurrenceStack:R}),o=!0;else throw Error("non exhaustive match");else if(A instanceof se){const y=W(_);y.push(A.nonTerminalName);const d=W(R);d.push(A.idx);const m={idx:p,def:A.definition.concat(s,z(T)),ruleStack:y,occurrenceStack:d};h.push(m)}else if(A instanceof ee){const y={idx:p,def:z(T),ruleStack:_,occurrenceStack:R};h.push(y),h.push(a);const d={idx:p,def:A.definition.concat(z(T)),ruleStack:_,occurrenceStack:R};h.push(d)}else if(A instanceof Se){const y=new K({definition:A.definition,idx:A.idx}),d=A.definition.concat([y],z(T)),m={idx:p,def:d,ruleStack:_,occurrenceStack:R};h.push(m)}else if(A instanceof Le){const y=new $({terminalType:A.separator}),d=new K({definition:[y].concat(A.definition),idx:A.idx}),m=A.definition.concat([d],z(T)),L={idx:p,def:m,ruleStack:_,occurrenceStack:R};h.push(L)}else if(A instanceof ye){const y={idx:p,def:z(T),ruleStack:_,occurrenceStack:R};h.push(y),h.push(a);const d=new $({terminalType:A.separator}),m=new K({definition:[d].concat(A.definition),idx:A.idx}),L=A.definition.concat([m],z(T)),Y={idx:p,def:L,ruleStack:_,occurrenceStack:R};h.push(Y)}else if(A instanceof K){const y={idx:p,def:z(T),ruleStack:_,occurrenceStack:R};h.push(y),h.push(a);const d=new K({definition:A.definition,idx:A.idx}),m=A.definition.concat([d],z(T)),L={idx:p,def:m,ruleStack:_,occurrenceStack:R};h.push(L)}else if(A instanceof Ae)for(let y=A.definition.length-1;y>=0;y--){const d=A.definition[y],m={idx:p,def:d.definition.concat(z(T)),ruleStack:_,occurrenceStack:R};h.push(m),h.push(a)}else if(A instanceof J)h.push({idx:p,def:A.definition.concat(z(T)),ruleStack:_,occurrenceStack:R});else if(A instanceof ht)h.push(md(A,p,_,R));else throw Error("non exhaustive match")}return l}function md(t,e,n,r){const i=W(n);i.push(t.name);const s=W(r);return s.push(1),{idx:e,def:t.definition,ruleStack:i,occurrenceStack:s}}var G;(function(t){t[t.OPTION=0]="OPTION",t[t.REPETITION=1]="REPETITION",t[t.REPETITION_MANDATORY=2]="REPETITION_MANDATORY",t[t.REPETITION_MANDATORY_WITH_SEPARATOR=3]="REPETITION_MANDATORY_WITH_SEPARATOR",t[t.REPETITION_WITH_SEPARATOR=4]="REPETITION_WITH_SEPARATOR",t[t.ALTERNATION=5]="ALTERNATION"})(G||(G={}));function ks(t){if(t instanceof ee||t==="Option")return G.OPTION;if(t instanceof K||t==="Repetition")return G.REPETITION;if(t instanceof Se||t==="RepetitionMandatory")return G.REPETITION_MANDATORY;if(t instanceof Le||t==="RepetitionMandatoryWithSeparator")return G.REPETITION_MANDATORY_WITH_SEPARATOR;if(t instanceof ye||t==="RepetitionWithSeparator")return G.REPETITION_WITH_SEPARATOR;if(t instanceof Ae||t==="Alternation")return G.ALTERNATION;throw Error("non exhaustive match")}function gd(t,e,n,r,i,s){const a=ur(t,e,n),o=Ms(a)?dn:Nt;return s(a,r,o,i)}function Ed(t,e,n,r,i,s){const a=lr(t,e,i,n),o=Ms(a)?dn:Nt;return s(a[0],o,r)}function Td(t,e,n,r){const i=t.length,s=ge(t,a=>ge(a,o=>o.length===1));if(e)return function(a){const o=v(a,c=>c.GATE);for(let c=0;c<i;c++){const u=t[c],l=u.length,h=o[c];if(!(h!==void 0&&h.call(this)===!1))e:for(let f=0;f<l;f++){const T=u[f],p=T.length;for(let _=0;_<p;_++){const R=this.LA(_+1);if(n(R,T[_])===!1)continue e}return c}}};if(s&&!r){const a=v(t,c=>me(c)),o=ie(a,(c,u,l)=>(I(u,h=>{O(c,h.tokenTypeIdx)||(c[h.tokenTypeIdx]=l),I(h.categoryMatches,f=>{O(c,f)||(c[f]=l)})}),c),{});return function(){const c=this.LA(1);return o[c.tokenTypeIdx]}}else return function(){for(let a=0;a<i;a++){const o=t[a],c=o.length;e:for(let u=0;u<c;u++){const l=o[u],h=l.length;for(let f=0;f<h;f++){const T=this.LA(f+1);if(n(T,l[f])===!1)continue e}return a}}}}function yd(t,e,n){const r=ge(t,s=>s.length===1),i=t.length;if(r&&!n){const s=me(t);if(s.length===1&&U(s[0].categoryMatches)){const a=s[0].tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===a}}else{const a=ie(s,(o,c,u)=>(o[c.tokenTypeIdx]=!0,I(c.categoryMatches,l=>{o[l]=!0}),o),[]);return function(){const o=this.LA(1);return a[o.tokenTypeIdx]===!0}}}else return function(){e:for(let s=0;s<i;s++){const a=t[s],o=a.length;for(let c=0;c<o;c++){const u=this.LA(c+1);if(e(u,a[c])===!1)continue e}return!0}return!1}}class Ad extends nn{constructor(e,n,r){super(),this.topProd=e,this.targetOccurrence=n,this.targetProdType=r}startWalking(){return this.walk(this.topProd),this.restDef}checkIsTarget(e,n,r,i){return e.idx===this.targetOccurrence&&this.targetProdType===n?(this.restDef=r.concat(i),!0):!1}walkOption(e,n,r){this.checkIsTarget(e,G.OPTION,n,r)||super.walkOption(e,n,r)}walkAtLeastOne(e,n,r){this.checkIsTarget(e,G.REPETITION_MANDATORY,n,r)||super.walkOption(e,n,r)}walkAtLeastOneSep(e,n,r){this.checkIsTarget(e,G.REPETITION_MANDATORY_WITH_SEPARATOR,n,r)||super.walkOption(e,n,r)}walkMany(e,n,r){this.checkIsTarget(e,G.REPETITION,n,r)||super.walkOption(e,n,r)}walkManySep(e,n,r){this.checkIsTarget(e,G.REPETITION_WITH_SEPARATOR,n,r)||super.walkOption(e,n,r)}}class Cs extends ft{constructor(e,n,r){super(),this.targetOccurrence=e,this.targetProdType=n,this.targetRef=r,this.result=[]}checkIsTarget(e,n){e.idx===this.targetOccurrence&&this.targetProdType===n&&(this.targetRef===void 0||e===this.targetRef)&&(this.result=e.definition)}visitOption(e){this.checkIsTarget(e,G.OPTION)}visitRepetition(e){this.checkIsTarget(e,G.REPETITION)}visitRepetitionMandatory(e){this.checkIsTarget(e,G.REPETITION_MANDATORY)}visitRepetitionMandatoryWithSeparator(e){this.checkIsTarget(e,G.REPETITION_MANDATORY_WITH_SEPARATOR)}visitRepetitionWithSeparator(e){this.checkIsTarget(e,G.REPETITION_WITH_SEPARATOR)}visitAlternation(e){this.checkIsTarget(e,G.ALTERNATION)}}function bs(t){const e=new Array(t);for(let n=0;n<t;n++)e[n]=[];return e}function cr(t){let e=[""];for(let n=0;n<t.length;n++){const r=t[n],i=[];for(let s=0;s<e.length;s++){const a=e[s];i.push(a+"_"+r.tokenTypeIdx);for(let o=0;o<r.categoryMatches.length;o++){const c="_"+r.categoryMatches[o];i.push(a+c)}}e=i}return e}function _d(t,e,n){for(let r=0;r<t.length;r++){if(r===n)continue;const i=t[r];for(let s=0;s<e.length;s++){const a=e[s];if(i[a]===!0)return!1}}return!0}function Ns(t,e){const n=v(t,a=>or([a],1)),r=bs(n.length),i=v(n,a=>{const o={};return I(a,c=>{const u=cr(c.partialPath);I(u,l=>{o[l]=!0})}),o});let s=n;for(let a=1;a<=e;a++){const o=s;s=bs(o.length);for(let c=0;c<o.length;c++){const u=o[c];for(let l=0;l<u.length;l++){const h=u[l].partialPath,f=u[l].suffixDef,T=cr(h);if(_d(i,T,c)||U(f)||h.length===e){const p=r[c];if(hr(p,h)===!1){p.push(h);for(let _=0;_<T.length;_++){const R=T[_];i[c][R]=!0}}}else{const p=or(f,a+1,h);s[c]=s[c].concat(p),I(p,_=>{const R=cr(_.partialPath);I(R,A=>{i[c][A]=!0})})}}}}return r}function ur(t,e,n,r){const i=new Cs(t,G.ALTERNATION,r);return e.accept(i),Ns(i.result,n)}function lr(t,e,n,r){const i=new Cs(t,n);e.accept(i);const s=i.result,a=new Ad(e,t,n).startWalking(),o=new J({definition:s}),c=new J({definition:a});return Ns([o,c],r)}function hr(t,e){e:for(let n=0;n<t.length;n++){const r=t[n];if(r.length===e.length){for(let i=0;i<r.length;i++){const s=e[i],a=r[i];if(!(s===a||a.categoryMatchesMap[s.tokenTypeIdx]!==void 0))continue e}return!0}}return!1}function vd(t,e){return t.length<e.length&&ge(t,(n,r)=>{const i=e[r];return n===i||i.categoryMatchesMap[n.tokenTypeIdx]})}function Ms(t){return ge(t,e=>ge(e,n=>ge(n,r=>U(r.categoryMatches))))}function Od(t){const e=t.lookaheadStrategy.validate({rules:t.rules,tokenTypes:t.tokenTypes,grammarName:t.grammarName});return v(e,n=>Object.assign({type:Q.CUSTOM_LOOKAHEAD_VALIDATION},n))}function Rd(t,e,n,r){const i=he(t,c=>Id(c,n)),s=Dd(t,e,n),a=he(t,c=>Pd(c,n)),o=he(t,c=>kd(c,t,r,n));return i.concat(s,a,o)}function Id(t,e){const n=new Ld;t.accept(n);const r=n.allProductions,i=Dh(r,Sd),s=Te(i,a=>a.length>1);return v(V(s),a=>{const o=Ee(a),c=e.buildDuplicateFoundError(t,a),u=ke(o),l={message:c,type:Q.DUPLICATE_PRODUCTIONS,ruleName:t.name,dslName:u,occurrence:o.idx},h=Ps(o);return h&&(l.parameter=h),l})}function Sd(t){return`${ke(t)}_#_${t.idx}_#_${Ps(t)}`}function Ps(t){return t instanceof $?t.terminalType.name:t instanceof se?t.nonTerminalName:""}class Ld extends ft{constructor(){super(...arguments),this.allProductions=[]}visitNonTerminal(e){this.allProductions.push(e)}visitOption(e){this.allProductions.push(e)}visitRepetitionWithSeparator(e){this.allProductions.push(e)}visitRepetitionMandatory(e){this.allProductions.push(e)}visitRepetitionMandatoryWithSeparator(e){this.allProductions.push(e)}visitRepetition(e){this.allProductions.push(e)}visitAlternation(e){this.allProductions.push(e)}visitTerminal(e){this.allProductions.push(e)}}function kd(t,e,n,r){const i=[];if(ie(e,(s,a)=>a.name===t.name?s+1:s,0)>1){const s=r.buildDuplicateRuleNameError({topLevelRule:t,grammarName:n});i.push({message:s,type:Q.DUPLICATE_RULE_NAME,ruleName:t.name})}return i}function Cd(t,e,n){const r=[];let i;return X(e,t)||(i=`Invalid rule override, rule: ->${t}<- cannot be overridden in the grammar: ->${n}<-as it is not defined in any of the super grammars `,r.push({message:i,type:Q.INVALID_RULE_OVERRIDE,ruleName:t})),r}function xs(t,e,n,r=[]){const i=[],s=mn(e.definition);if(U(s))return[];{const a=t.name;X(s,t)&&i.push({message:n.buildLeftRecursionError({topLevelRule:t,leftRecursionPath:r}),type:Q.LEFT_RECURSION,ruleName:a});const o=Zt(s,r.concat([t])),c=he(o,u=>{const l=W(r);return l.push(u),xs(t,u,n,l)});return i.concat(c)}}function mn(t){let e=[];if(U(t))return e;const n=Ee(t);if(n instanceof se)e.push(n.referencedRule);else if(n instanceof J||n instanceof ee||n instanceof Se||n instanceof Le||n instanceof ye||n instanceof K)e=e.concat(mn(n.definition));else if(n instanceof Ae)e=me(v(n.definition,s=>mn(s.definition)));else if(!(n instanceof $))throw Error("non exhaustive match");const r=tn(n),i=t.length>1;if(r&&i){const s=z(t);return e.concat(mn(s))}else return e}class fr extends ft{constructor(){super(...arguments),this.alternations=[]}visitAlternation(e){this.alternations.push(e)}}function bd(t,e){const n=new fr;t.accept(n);const r=n.alternations;return he(r,i=>{const s=St(i.definition);return he(s,(a,o)=>{const c=Ls([a],[],Nt,1);return U(c)?[{message:e.buildEmptyAlternationError({topLevelRule:t,alternation:i,emptyChoiceIdx:o}),type:Q.NONE_LAST_EMPTY_ALT,ruleName:t.name,occurrence:i.idx,alternative:o+1}]:[]})})}function Nd(t,e,n){const r=new fr;t.accept(r);let i=r.alternations;return i=Jt(i,s=>s.ignoreAmbiguities===!0),he(i,s=>{const a=s.idx,o=s.maxLookahead||e,c=ur(a,t,o,s),u=wd(c,s,t,n),l=Ud(c,s,t,n);return u.concat(l)})}class Md extends ft{constructor(){super(...arguments),this.allProductions=[]}visitRepetitionWithSeparator(e){this.allProductions.push(e)}visitRepetitionMandatory(e){this.allProductions.push(e)}visitRepetitionMandatoryWithSeparator(e){this.allProductions.push(e)}visitRepetition(e){this.allProductions.push(e)}}function Pd(t,e){const n=new fr;t.accept(n);const r=n.alternations;return he(r,i=>i.definition.length>255?[{message:e.buildTooManyAlternativesError({topLevelRule:t,alternation:i}),type:Q.TOO_MANY_ALTS,ruleName:t.name,occurrence:i.idx}]:[])}function xd(t,e,n){const r=[];return I(t,i=>{const s=new Md;i.accept(s);const a=s.allProductions;I(a,o=>{const c=ks(o),u=o.maxLookahead||e,l=o.idx,h=lr(l,i,c,u)[0];if(U(me(h))){const f=n.buildEmptyRepetitionError({topLevelRule:i,repetition:o});r.push({message:f,type:Q.NO_NON_EMPTY_LOOKAHEAD,ruleName:i.name})}})}),r}function wd(t,e,n,r){const i=[],s=ie(t,(a,o,c)=>(e.definition[c].ignoreAmbiguities===!0||I(o,u=>{const l=[c];I(t,(h,f)=>{c!==f&&hr(h,u)&&e.definition[f].ignoreAmbiguities!==!0&&l.push(f)}),l.length>1&&!hr(i,u)&&(i.push(u),a.push({alts:l,path:u}))}),a),[]);return v(s,a=>{const o=v(a.alts,c=>c+1);return{message:r.buildAlternationAmbiguityError({topLevelRule:n,alternation:e,ambiguityIndices:o,prefixPath:a.path}),type:Q.AMBIGUOUS_ALTS,ruleName:n.name,occurrence:e.idx,alternatives:a.alts}})}function Ud(t,e,n,r){const i=ie(t,(s,a,o)=>{const c=v(a,u=>({idx:o,path:u}));return s.concat(c)},[]);return It(he(i,s=>{if(e.definition[s.idx].ignoreAmbiguities===!0)return[];const a=s.idx,o=s.path,c=le(i,u=>e.definition[u.idx].ignoreAmbiguities!==!0&&u.idx<a&&vd(u.path,o));return v(c,u=>{const l=[u.idx+1,a+1],h=e.idx===0?"":e.idx;return{message:r.buildAlternationPrefixAmbiguityError({topLevelRule:n,alternation:e,ambiguityIndices:l,prefixPath:u.path}),type:Q.AMBIGUOUS_PREFIX_ALTS,ruleName:n.name,occurrence:h,alternatives:l}})}))}function Dd(t,e,n){const r=[],i=v(e,s=>s.name);return I(t,s=>{const a=s.name;if(X(i,a)){const o=n.buildNamespaceConflictError(s);r.push({message:o,type:Q.CONFLICT_TOKENS_RULES_NAMESPACE,ruleName:a})}}),r}function $d(t){const e=Qn(t,{errMsgProvider:cd}),n={};return I(t.rules,r=>{n[r.name]=r}),ud(n,e.errMsgProvider)}function Fd(t){return t=Qn(t,{errMsgProvider:et}),Rd(t.rules,t.tokenTypes,t.errMsgProvider,t.grammarName)}const ws="MismatchedTokenException",Us="NoViableAltException",Ds="EarlyExitException",$s="NotAllInputParsedException",Fs=[ws,Us,Ds,$s];Object.freeze(Fs);function gn(t){return X(Fs,t.name)}class En extends Error{constructor(e,n){super(e),this.token=n,this.resyncedTokens=[],Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}class js extends En{constructor(e,n,r){super(e,n),this.previousToken=r,this.name=ws}}class jd extends En{constructor(e,n,r){super(e,n),this.previousToken=r,this.name=Us}}class Gd extends En{constructor(e,n){super(e,n),this.name=$s}}class Bd extends En{constructor(e,n,r){super(e,n),this.previousToken=r,this.name=Ds}}const dr={},Gs="InRuleRecoveryException";class Vd extends Error{constructor(e){super(e),this.name=Gs}}class Kd{initRecoverable(e){this.firstAfterRepMap={},this.resyncFollows={},this.recoveryEnabled=O(e,"recoveryEnabled")?e.recoveryEnabled:De.recoveryEnabled,this.recoveryEnabled&&(this.attemptInRepetitionRecovery=Hd)}getTokenToInsert(e){const n=ar(e,"",NaN,NaN,NaN,NaN,NaN,NaN);return n.isInsertedInRecovery=!0,n}canTokenTypeBeInsertedInRecovery(e){return!0}canTokenTypeBeDeletedInRecovery(e){return!0}tryInRepetitionRecovery(e,n,r,i){const s=this.findReSyncTokenType(),a=this.exportLexerState(),o=[];let c=!1;const u=this.LA(1);let l=this.LA(1);const h=()=>{const f=this.LA(0),T=this.errorMessageProvider.buildMismatchTokenMessage({expected:i,actual:u,previous:f,ruleName:this.getCurrRuleFullName()}),p=new js(T,u,this.LA(0));p.resyncedTokens=St(o),this.SAVE_ERROR(p)};for(;!c;)if(this.tokenMatcher(l,i)){h();return}else if(r.call(this)){h(),e.apply(this,n);return}else this.tokenMatcher(l,s)?c=!0:(l=this.SKIP_TOKEN(),this.addToResyncTokens(l,o));this.importLexerState(a)}shouldInRepetitionRecoveryBeTried(e,n,r){return!(r===!1||this.tokenMatcher(this.LA(1),e)||this.isBackTracking()||this.canPerformInRuleRecovery(e,this.getFollowsForInRuleRecovery(e,n)))}getFollowsForInRuleRecovery(e,n){const r=this.getCurrentGrammarPath(e,n);return this.getNextPossibleTokenTypes(r)}tryInRuleRecovery(e,n){if(this.canRecoverWithSingleTokenInsertion(e,n))return this.getTokenToInsert(e);if(this.canRecoverWithSingleTokenDeletion(e)){const r=this.SKIP_TOKEN();return this.consumeToken(),r}throw new Vd("sad sad panda")}canPerformInRuleRecovery(e,n){return this.canRecoverWithSingleTokenInsertion(e,n)||this.canRecoverWithSingleTokenDeletion(e)}canRecoverWithSingleTokenInsertion(e,n){if(!this.canTokenTypeBeInsertedInRecovery(e)||U(n))return!1;const r=this.LA(1);return lt(n,i=>this.tokenMatcher(r,i))!==void 0}canRecoverWithSingleTokenDeletion(e){return this.canTokenTypeBeDeletedInRecovery(e)?this.tokenMatcher(this.LA(2),e):!1}isInCurrentRuleReSyncSet(e){const n=this.getCurrFollowKey(),r=this.getFollowSetFromFollowKey(n);return X(r,e)}findReSyncTokenType(){const e=this.flattenFollowSet();let n=this.LA(1),r=2;for(;;){const i=lt(e,s=>od(n,s));if(i!==void 0)return i;n=this.LA(r),r++}}getCurrFollowKey(){if(this.RULE_STACK.length===1)return dr;const e=this.getLastExplicitRuleShortName(),n=this.getLastExplicitRuleOccurrenceIndex(),r=this.getPreviousExplicitRuleShortName();return{ruleName:this.shortRuleNameToFullName(e),idxInCallingRule:n,inRule:this.shortRuleNameToFullName(r)}}buildFullFollowKeyStack(){const e=this.RULE_STACK,n=this.RULE_OCCURRENCE_STACK;return v(e,(r,i)=>i===0?dr:{ruleName:this.shortRuleNameToFullName(r),idxInCallingRule:n[i],inRule:this.shortRuleNameToFullName(e[i-1])})}flattenFollowSet(){const e=v(this.buildFullFollowKeyStack(),n=>this.getFollowSetFromFollowKey(n));return me(e)}getFollowSetFromFollowKey(e){if(e===dr)return[Je];const n=e.ruleName+e.idxInCallingRule+Ji+e.inRule;return this.resyncFollows[n]}addToResyncTokens(e,n){return this.tokenMatcher(e,Je)||n.push(e),n}reSyncTo(e){const n=[];let r=this.LA(1);for(;this.tokenMatcher(r,e)===!1;)r=this.SKIP_TOKEN(),this.addToResyncTokens(r,n);return St(n)}attemptInRepetitionRecovery(e,n,r,i,s,a,o){}getCurrentGrammarPath(e,n){const r=this.getHumanReadableRuleStack(),i=W(this.RULE_OCCURRENCE_STACK);return{ruleStack:r,occurrenceStack:i,lastTok:e,lastTokOccurrence:n}}getHumanReadableRuleStack(){return v(this.RULE_STACK,e=>this.shortRuleNameToFullName(e))}}function Hd(t,e,n,r,i,s,a){const o=this.getKeyForAutomaticLookahead(r,i);let c=this.firstAfterRepMap[o];if(c===void 0){const f=this.getCurrRuleFullName(),T=this.getGAstProductions()[f];c=new s(T,i).startWalking(),this.firstAfterRepMap[o]=c}let u=c.token,l=c.occurrence;const h=c.isEndOfRule;this.RULE_STACK.length===1&&h&&u===void 0&&(u=Je,l=1),!(u===void 0||l===void 0)&&this.shouldInRepetitionRecoveryBeTried(u,l,a)&&this.tryInRepetitionRecovery(t,e,n,u)}const Wd=4,He=8,Bs=1<<He,Vs=2<<He,pr=3<<He,mr=4<<He,gr=5<<He,Tn=6<<He;function Er(t,e,n){return n|e|t}class zd{constructor(e){var n;this.maxLookahead=(n=e==null?void 0:e.maxLookahead)!==null&&n!==void 0?n:De.maxLookahead}validate(e){const n=this.validateNoLeftRecursion(e.rules);if(U(n)){const r=this.validateEmptyOrAlternatives(e.rules),i=this.validateAmbiguousAlternationAlternatives(e.rules,this.maxLookahead),s=this.validateSomeNonEmptyLookaheadPath(e.rules,this.maxLookahead);return[...n,...r,...i,...s]}return n}validateNoLeftRecursion(e){return he(e,n=>xs(n,n,et))}validateEmptyOrAlternatives(e){return he(e,n=>bd(n,et))}validateAmbiguousAlternationAlternatives(e,n){return he(e,r=>Nd(r,n,et))}validateSomeNonEmptyLookaheadPath(e,n){return xd(e,n,et)}buildLookaheadForAlternation(e){return gd(e.prodOccurrence,e.rule,e.maxLookahead,e.hasPredicates,e.dynamicTokensEnabled,Td)}buildLookaheadForOptional(e){return Ed(e.prodOccurrence,e.rule,e.maxLookahead,e.dynamicTokensEnabled,ks(e.prodType),yd)}}class Yd{initLooksAhead(e){this.dynamicTokensEnabled=O(e,"dynamicTokensEnabled")?e.dynamicTokensEnabled:De.dynamicTokensEnabled,this.maxLookahead=O(e,"maxLookahead")?e.maxLookahead:De.maxLookahead,this.lookaheadStrategy=O(e,"lookaheadStrategy")?e.lookaheadStrategy:new zd({maxLookahead:this.maxLookahead}),this.lookAheadFuncsCache=new Map}preComputeLookaheadFunctions(e){I(e,n=>{this.TRACE_INIT(`${n.name} Rule Lookahead`,()=>{const{alternation:r,repetition:i,option:s,repetitionMandatory:a,repetitionMandatoryWithSeparator:o,repetitionWithSeparator:c}=qd(n);I(r,u=>{const l=u.idx===0?"":u.idx;this.TRACE_INIT(`${ke(u)}${l}`,()=>{const h=this.lookaheadStrategy.buildLookaheadForAlternation({prodOccurrence:u.idx,rule:n,maxLookahead:u.maxLookahead||this.maxLookahead,hasPredicates:u.hasPredicates,dynamicTokensEnabled:this.dynamicTokensEnabled}),f=Er(this.fullRuleNameToShort[n.name],Bs,u.idx);this.setLaFuncCache(f,h)})}),I(i,u=>{this.computeLookaheadFunc(n,u.idx,pr,"Repetition",u.maxLookahead,ke(u))}),I(s,u=>{this.computeLookaheadFunc(n,u.idx,Vs,"Option",u.maxLookahead,ke(u))}),I(a,u=>{this.computeLookaheadFunc(n,u.idx,mr,"RepetitionMandatory",u.maxLookahead,ke(u))}),I(o,u=>{this.computeLookaheadFunc(n,u.idx,Tn,"RepetitionMandatoryWithSeparator",u.maxLookahead,ke(u))}),I(c,u=>{this.computeLookaheadFunc(n,u.idx,gr,"RepetitionWithSeparator",u.maxLookahead,ke(u))})})})}computeLookaheadFunc(e,n,r,i,s,a){this.TRACE_INIT(`${a}${n===0?"":n}`,()=>{const o=this.lookaheadStrategy.buildLookaheadForOptional({prodOccurrence:n,rule:e,maxLookahead:s||this.maxLookahead,dynamicTokensEnabled:this.dynamicTokensEnabled,prodType:i}),c=Er(this.fullRuleNameToShort[e.name],r,n);this.setLaFuncCache(c,o)})}getKeyForAutomaticLookahead(e,n){const r=this.getLastExplicitRuleShortName();return Er(r,e,n)}getLaFuncFromCache(e){return this.lookAheadFuncsCache.get(e)}setLaFuncCache(e,n){this.lookAheadFuncsCache.set(e,n)}}class Xd extends ft{constructor(){super(...arguments),this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}reset(){this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}visitOption(e){this.dslMethods.option.push(e)}visitRepetitionWithSeparator(e){this.dslMethods.repetitionWithSeparator.push(e)}visitRepetitionMandatory(e){this.dslMethods.repetitionMandatory.push(e)}visitRepetitionMandatoryWithSeparator(e){this.dslMethods.repetitionMandatoryWithSeparator.push(e)}visitRepetition(e){this.dslMethods.repetition.push(e)}visitAlternation(e){this.dslMethods.alternation.push(e)}}const yn=new Xd;function qd(t){yn.reset(),t.accept(yn);const e=yn.dslMethods;return yn.reset(),e}function Ks(t,e){isNaN(t.startOffset)===!0?(t.startOffset=e.startOffset,t.endOffset=e.endOffset):t.endOffset<e.endOffset&&(t.endOffset=e.endOffset)}function Hs(t,e){isNaN(t.startOffset)===!0?(t.startOffset=e.startOffset,t.startColumn=e.startColumn,t.startLine=e.startLine,t.endOffset=e.endOffset,t.endColumn=e.endColumn,t.endLine=e.endLine):t.endOffset<e.endOffset&&(t.endOffset=e.endOffset,t.endColumn=e.endColumn,t.endLine=e.endLine)}function Qd(t,e,n){t.children[n]===void 0?t.children[n]=[e]:t.children[n].push(e)}function Zd(t,e,n){t.children[e]===void 0?t.children[e]=[n]:t.children[e].push(n)}const Jd="name";function Ws(t,e){Object.defineProperty(t,Jd,{enumerable:!1,configurable:!0,writable:!1,value:e})}function ep(t,e){const n=ce(t),r=n.length;for(let i=0;i<r;i++){const s=n[i],a=t[s],o=a.length;for(let c=0;c<o;c++){const u=a[c];u.tokenTypeIdx===void 0&&this[u.name](u.children,e)}}}function tp(t,e){const n=function(){};Ws(n,t+"BaseSemantics");const r={visit:function(i,s){if(N(i)&&(i=i[0]),!Ue(i))return this[i.name](i.children,s)},validateVisitor:function(){const i=rp(this,e);if(!U(i)){const s=v(i,a=>a.msg);throw Error(`Errors Detected in CST Visitor <${this.constructor.name}>:
	${s.join(`

`).replace(/\n/g,`
	`)}`)}}};return n.prototype=r,n.prototype.constructor=n,n._RULE_NAMES=e,n}function np(t,e,n){const r=function(){};Ws(r,t+"BaseSemanticsWithDefaults");const i=Object.create(n.prototype);return I(e,s=>{i[s]=ep}),r.prototype=i,r.prototype.constructor=r,r}var Tr;(function(t){t[t.REDUNDANT_METHOD=0]="REDUNDANT_METHOD",t[t.MISSING_METHOD=1]="MISSING_METHOD"})(Tr||(Tr={}));function rp(t,e){return ip(t,e)}function ip(t,e){const n=le(e,i=>Me(t[i])===!1),r=v(n,i=>({msg:`Missing visitor method: <${i}> on ${t.constructor.name} CST Visitor.`,type:Tr.MISSING_METHOD,methodName:i}));return It(r)}class sp{initTreeBuilder(e){if(this.CST_STACK=[],this.outputCst=e.outputCst,this.nodeLocationTracking=O(e,"nodeLocationTracking")?e.nodeLocationTracking:De.nodeLocationTracking,!this.outputCst)this.cstInvocationStateUpdate=B,this.cstFinallyStateUpdate=B,this.cstPostTerminal=B,this.cstPostNonTerminal=B,this.cstPostRule=B;else if(/full/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=Hs,this.setNodeLocationFromNode=Hs,this.cstPostRule=B,this.setInitialNodeLocation=this.setInitialNodeLocationFullRecovery):(this.setNodeLocationFromToken=B,this.setNodeLocationFromNode=B,this.cstPostRule=this.cstPostRuleFull,this.setInitialNodeLocation=this.setInitialNodeLocationFullRegular);else if(/onlyOffset/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=Ks,this.setNodeLocationFromNode=Ks,this.cstPostRule=B,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRecovery):(this.setNodeLocationFromToken=B,this.setNodeLocationFromNode=B,this.cstPostRule=this.cstPostRuleOnlyOffset,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRegular);else if(/none/i.test(this.nodeLocationTracking))this.setNodeLocationFromToken=B,this.setNodeLocationFromNode=B,this.cstPostRule=B,this.setInitialNodeLocation=B;else throw Error(`Invalid <nodeLocationTracking> config option: "${e.nodeLocationTracking}"`)}setInitialNodeLocationOnlyOffsetRecovery(e){e.location={startOffset:NaN,endOffset:NaN}}setInitialNodeLocationOnlyOffsetRegular(e){e.location={startOffset:this.LA(1).startOffset,endOffset:NaN}}setInitialNodeLocationFullRecovery(e){e.location={startOffset:NaN,startLine:NaN,startColumn:NaN,endOffset:NaN,endLine:NaN,endColumn:NaN}}setInitialNodeLocationFullRegular(e){const n=this.LA(1);e.location={startOffset:n.startOffset,startLine:n.startLine,startColumn:n.startColumn,endOffset:NaN,endLine:NaN,endColumn:NaN}}cstInvocationStateUpdate(e){const n={name:e,children:Object.create(null)};this.setInitialNodeLocation(n),this.CST_STACK.push(n)}cstFinallyStateUpdate(){this.CST_STACK.pop()}cstPostRuleFull(e){const n=this.LA(0),r=e.location;r.startOffset<=n.startOffset?(r.endOffset=n.endOffset,r.endLine=n.endLine,r.endColumn=n.endColumn):(r.startOffset=NaN,r.startLine=NaN,r.startColumn=NaN)}cstPostRuleOnlyOffset(e){const n=this.LA(0),r=e.location;r.startOffset<=n.startOffset?r.endOffset=n.endOffset:r.startOffset=NaN}cstPostTerminal(e,n){const r=this.CST_STACK[this.CST_STACK.length-1];Qd(r,n,e),this.setNodeLocationFromToken(r.location,n)}cstPostNonTerminal(e,n){const r=this.CST_STACK[this.CST_STACK.length-1];Zd(r,n,e),this.setNodeLocationFromNode(r.location,e.location)}getBaseCstVisitorConstructor(){if(Ue(this.baseCstVisitorConstructor)){const e=tp(this.className,ce(this.gastProductionsCache));return this.baseCstVisitorConstructor=e,e}return this.baseCstVisitorConstructor}getBaseCstVisitorConstructorWithDefaults(){if(Ue(this.baseCstVisitorWithDefaultsConstructor)){const e=np(this.className,ce(this.gastProductionsCache),this.getBaseCstVisitorConstructor());return this.baseCstVisitorWithDefaultsConstructor=e,e}return this.baseCstVisitorWithDefaultsConstructor}getLastExplicitRuleShortName(){const e=this.RULE_STACK;return e[e.length-1]}getPreviousExplicitRuleShortName(){const e=this.RULE_STACK;return e[e.length-2]}getLastExplicitRuleOccurrenceIndex(){const e=this.RULE_OCCURRENCE_STACK;return e[e.length-1]}}class ap{initLexerAdapter(){this.tokVector=[],this.tokVectorLength=0,this.currIdx=-1}set input(e){if(this.selfAnalysisDone!==!0)throw Error("Missing <performSelfAnalysis> invocation at the end of the Parser's constructor.");this.reset(),this.tokVector=e,this.tokVectorLength=e.length}get input(){return this.tokVector}SKIP_TOKEN(){return this.currIdx<=this.tokVector.length-2?(this.consumeToken(),this.LA(1)):vn}LA(e){const n=this.currIdx+e;return n<0||this.tokVectorLength<=n?vn:this.tokVector[n]}consumeToken(){this.currIdx++}exportLexerState(){return this.currIdx}importLexerState(e){this.currIdx=e}resetLexerState(){this.currIdx=-1}moveToTerminatedState(){this.currIdx=this.tokVector.length-1}getLexerPosition(){return this.exportLexerState()}}class op{ACTION(e){return e.call(this)}consume(e,n,r){return this.consumeInternal(n,e,r)}subrule(e,n,r){return this.subruleInternal(n,e,r)}option(e,n){return this.optionInternal(n,e)}or(e,n){return this.orInternal(n,e)}many(e,n){return this.manyInternal(e,n)}atLeastOne(e,n){return this.atLeastOneInternal(e,n)}CONSUME(e,n){return this.consumeInternal(e,0,n)}CONSUME1(e,n){return this.consumeInternal(e,1,n)}CONSUME2(e,n){return this.consumeInternal(e,2,n)}CONSUME3(e,n){return this.consumeInternal(e,3,n)}CONSUME4(e,n){return this.consumeInternal(e,4,n)}CONSUME5(e,n){return this.consumeInternal(e,5,n)}CONSUME6(e,n){return this.consumeInternal(e,6,n)}CONSUME7(e,n){return this.consumeInternal(e,7,n)}CONSUME8(e,n){return this.consumeInternal(e,8,n)}CONSUME9(e,n){return this.consumeInternal(e,9,n)}SUBRULE(e,n){return this.subruleInternal(e,0,n)}SUBRULE1(e,n){return this.subruleInternal(e,1,n)}SUBRULE2(e,n){return this.subruleInternal(e,2,n)}SUBRULE3(e,n){return this.subruleInternal(e,3,n)}SUBRULE4(e,n){return this.subruleInternal(e,4,n)}SUBRULE5(e,n){return this.subruleInternal(e,5,n)}SUBRULE6(e,n){return this.subruleInternal(e,6,n)}SUBRULE7(e,n){return this.subruleInternal(e,7,n)}SUBRULE8(e,n){return this.subruleInternal(e,8,n)}SUBRULE9(e,n){return this.subruleInternal(e,9,n)}OPTION(e){return this.optionInternal(e,0)}OPTION1(e){return this.optionInternal(e,1)}OPTION2(e){return this.optionInternal(e,2)}OPTION3(e){return this.optionInternal(e,3)}OPTION4(e){return this.optionInternal(e,4)}OPTION5(e){return this.optionInternal(e,5)}OPTION6(e){return this.optionInternal(e,6)}OPTION7(e){return this.optionInternal(e,7)}OPTION8(e){return this.optionInternal(e,8)}OPTION9(e){return this.optionInternal(e,9)}OR(e){return this.orInternal(e,0)}OR1(e){return this.orInternal(e,1)}OR2(e){return this.orInternal(e,2)}OR3(e){return this.orInternal(e,3)}OR4(e){return this.orInternal(e,4)}OR5(e){return this.orInternal(e,5)}OR6(e){return this.orInternal(e,6)}OR7(e){return this.orInternal(e,7)}OR8(e){return this.orInternal(e,8)}OR9(e){return this.orInternal(e,9)}MANY(e){this.manyInternal(0,e)}MANY1(e){this.manyInternal(1,e)}MANY2(e){this.manyInternal(2,e)}MANY3(e){this.manyInternal(3,e)}MANY4(e){this.manyInternal(4,e)}MANY5(e){this.manyInternal(5,e)}MANY6(e){this.manyInternal(6,e)}MANY7(e){this.manyInternal(7,e)}MANY8(e){this.manyInternal(8,e)}MANY9(e){this.manyInternal(9,e)}MANY_SEP(e){this.manySepFirstInternal(0,e)}MANY_SEP1(e){this.manySepFirstInternal(1,e)}MANY_SEP2(e){this.manySepFirstInternal(2,e)}MANY_SEP3(e){this.manySepFirstInternal(3,e)}MANY_SEP4(e){this.manySepFirstInternal(4,e)}MANY_SEP5(e){this.manySepFirstInternal(5,e)}MANY_SEP6(e){this.manySepFirstInternal(6,e)}MANY_SEP7(e){this.manySepFirstInternal(7,e)}MANY_SEP8(e){this.manySepFirstInternal(8,e)}MANY_SEP9(e){this.manySepFirstInternal(9,e)}AT_LEAST_ONE(e){this.atLeastOneInternal(0,e)}AT_LEAST_ONE1(e){return this.atLeastOneInternal(1,e)}AT_LEAST_ONE2(e){this.atLeastOneInternal(2,e)}AT_LEAST_ONE3(e){this.atLeastOneInternal(3,e)}AT_LEAST_ONE4(e){this.atLeastOneInternal(4,e)}AT_LEAST_ONE5(e){this.atLeastOneInternal(5,e)}AT_LEAST_ONE6(e){this.atLeastOneInternal(6,e)}AT_LEAST_ONE7(e){this.atLeastOneInternal(7,e)}AT_LEAST_ONE8(e){this.atLeastOneInternal(8,e)}AT_LEAST_ONE9(e){this.atLeastOneInternal(9,e)}AT_LEAST_ONE_SEP(e){this.atLeastOneSepFirstInternal(0,e)}AT_LEAST_ONE_SEP1(e){this.atLeastOneSepFirstInternal(1,e)}AT_LEAST_ONE_SEP2(e){this.atLeastOneSepFirstInternal(2,e)}AT_LEAST_ONE_SEP3(e){this.atLeastOneSepFirstInternal(3,e)}AT_LEAST_ONE_SEP4(e){this.atLeastOneSepFirstInternal(4,e)}AT_LEAST_ONE_SEP5(e){this.atLeastOneSepFirstInternal(5,e)}AT_LEAST_ONE_SEP6(e){this.atLeastOneSepFirstInternal(6,e)}AT_LEAST_ONE_SEP7(e){this.atLeastOneSepFirstInternal(7,e)}AT_LEAST_ONE_SEP8(e){this.atLeastOneSepFirstInternal(8,e)}AT_LEAST_ONE_SEP9(e){this.atLeastOneSepFirstInternal(9,e)}RULE(e,n,r=On){if(X(this.definedRulesNames,e)){const s={message:et.buildDuplicateRuleNameError({topLevelRule:e,grammarName:this.className}),type:Q.DUPLICATE_RULE_NAME,ruleName:e};this.definitionErrors.push(s)}this.definedRulesNames.push(e);const i=this.defineRule(e,n,r);return this[e]=i,i}OVERRIDE_RULE(e,n,r=On){const i=Cd(e,this.definedRulesNames,this.className);this.definitionErrors=this.definitionErrors.concat(i);const s=this.defineRule(e,n,r);return this[e]=s,s}BACKTRACK(e,n){return function(){this.isBackTrackingStack.push(1);const r=this.saveRecogState();try{return e.apply(this,n),!0}catch(i){if(gn(i))return!1;throw i}finally{this.reloadRecogState(r),this.isBackTrackingStack.pop()}}}getGAstProductions(){return this.gastProductionsCache}getSerializedGastProductions(){return uf(V(this.gastProductionsCache))}}class cp{initRecognizerEngine(e,n){if(this.className=this.constructor.name,this.shortRuleNameToFull={},this.fullRuleNameToShort={},this.ruleShortNameIdx=256,this.tokenMatcher=dn,this.subruleIdx=0,this.definedRulesNames=[],this.tokensMap={},this.isBackTrackingStack=[],this.RULE_STACK=[],this.RULE_OCCURRENCE_STACK=[],this.gastProductionsCache={},O(n,"serializedGrammar"))throw Error(`The Parser's configuration can no longer contain a <serializedGrammar> property.
	See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_6-0-0
	For Further details.`);if(N(e)){if(U(e))throw Error(`A Token Vocabulary cannot be empty.
	Note that the first argument for the parser constructor
	is no longer a Token vector (since v4.0).`);if(typeof e[0].startOffset=="number")throw Error(`The Parser constructor no longer accepts a token vector as the first argument.
	See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_4-0-0
	For Further details.`)}if(N(e))this.tokensMap=ie(e,(s,a)=>(s[a.name]=a,s),{});else if(O(e,"modes")&&ge(me(V(e.modes)),rd)){const s=me(V(e.modes)),a=Zn(s);this.tokensMap=ie(a,(o,c)=>(o[c.name]=c,o),{})}else if(oe(e))this.tokensMap=W(e);else throw new Error("<tokensDictionary> argument must be An Array of Token constructors, A dictionary of Token constructors or an IMultiModeLexerDefinition");this.tokensMap.EOF=Je;const r=O(e,"modes")?me(V(e.modes)):V(e),i=ge(r,s=>U(s.categoryMatches));this.tokenMatcher=i?dn:Nt,Mt(V(this.tokensMap))}defineRule(e,n,r){if(this.selfAnalysisDone)throw Error(`Grammar rule <${e}> may not be defined after the 'performSelfAnalysis' method has been called'
Make sure that all grammar rule definitions are done before 'performSelfAnalysis' is called.`);const i=O(r,"resyncEnabled")?r.resyncEnabled:On.resyncEnabled,s=O(r,"recoveryValueFunc")?r.recoveryValueFunc:On.recoveryValueFunc,a=this.ruleShortNameIdx<<Wd+He;this.ruleShortNameIdx++,this.shortRuleNameToFull[a]=e,this.fullRuleNameToShort[e]=a;let o;return this.outputCst===!0?o=function(...c){try{this.ruleInvocationStateUpdate(a,e,this.subruleIdx),n.apply(this,c);const u=this.CST_STACK[this.CST_STACK.length-1];return this.cstPostRule(u),u}catch(u){return this.invokeRuleCatch(u,i,s)}finally{this.ruleFinallyStateUpdate()}}:o=function(...c){try{return this.ruleInvocationStateUpdate(a,e,this.subruleIdx),n.apply(this,c)}catch(u){return this.invokeRuleCatch(u,i,s)}finally{this.ruleFinallyStateUpdate()}},Object.assign(o,{ruleName:e,originalGrammarAction:n})}invokeRuleCatch(e,n,r){const i=this.RULE_STACK.length===1,s=n&&!this.isBackTracking()&&this.recoveryEnabled;if(gn(e)){const a=e;if(s){const o=this.findReSyncTokenType();if(this.isInCurrentRuleReSyncSet(o))if(a.resyncedTokens=this.reSyncTo(o),this.outputCst){const c=this.CST_STACK[this.CST_STACK.length-1];return c.recoveredNode=!0,c}else return r(e);else{if(this.outputCst){const c=this.CST_STACK[this.CST_STACK.length-1];c.recoveredNode=!0,a.partialCstResult=c}throw a}}else{if(i)return this.moveToTerminatedState(),r(e);throw a}}else throw e}optionInternal(e,n){const r=this.getKeyForAutomaticLookahead(Vs,n);return this.optionInternalLogic(e,n,r)}optionInternalLogic(e,n,r){let i=this.getLaFuncFromCache(r),s;if(typeof e!="function"){s=e.DEF;const a=e.GATE;if(a!==void 0){const o=i;i=()=>a.call(this)&&o.call(this)}}else s=e;if(i.call(this)===!0)return s.call(this)}atLeastOneInternal(e,n){const r=this.getKeyForAutomaticLookahead(mr,e);return this.atLeastOneInternalLogic(e,n,r)}atLeastOneInternalLogic(e,n,r){let i=this.getLaFuncFromCache(r),s;if(typeof n!="function"){s=n.DEF;const a=n.GATE;if(a!==void 0){const o=i;i=()=>a.call(this)&&o.call(this)}}else s=n;if(i.call(this)===!0){let a=this.doSingleRepetition(s);for(;i.call(this)===!0&&a===!0;)a=this.doSingleRepetition(s)}else throw this.raiseEarlyExitException(e,G.REPETITION_MANDATORY,n.ERR_MSG);this.attemptInRepetitionRecovery(this.atLeastOneInternal,[e,n],i,mr,e,pd)}atLeastOneSepFirstInternal(e,n){const r=this.getKeyForAutomaticLookahead(Tn,e);this.atLeastOneSepFirstInternalLogic(e,n,r)}atLeastOneSepFirstInternalLogic(e,n,r){const i=n.DEF,s=n.SEP;if(this.getLaFuncFromCache(r).call(this)===!0){i.call(this);const a=()=>this.tokenMatcher(this.LA(1),s);for(;this.tokenMatcher(this.LA(1),s)===!0;)this.CONSUME(s),i.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,s,a,i,Ss],a,Tn,e,Ss)}else throw this.raiseEarlyExitException(e,G.REPETITION_MANDATORY_WITH_SEPARATOR,n.ERR_MSG)}manyInternal(e,n){const r=this.getKeyForAutomaticLookahead(pr,e);return this.manyInternalLogic(e,n,r)}manyInternalLogic(e,n,r){let i=this.getLaFuncFromCache(r),s;if(typeof n!="function"){s=n.DEF;const o=n.GATE;if(o!==void 0){const c=i;i=()=>o.call(this)&&c.call(this)}}else s=n;let a=!0;for(;i.call(this)===!0&&a===!0;)a=this.doSingleRepetition(s);this.attemptInRepetitionRecovery(this.manyInternal,[e,n],i,pr,e,dd,a)}manySepFirstInternal(e,n){const r=this.getKeyForAutomaticLookahead(gr,e);this.manySepFirstInternalLogic(e,n,r)}manySepFirstInternalLogic(e,n,r){const i=n.DEF,s=n.SEP;if(this.getLaFuncFromCache(r).call(this)===!0){i.call(this);const a=()=>this.tokenMatcher(this.LA(1),s);for(;this.tokenMatcher(this.LA(1),s)===!0;)this.CONSUME(s),i.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,s,a,i,Is],a,gr,e,Is)}}repetitionSepSecondInternal(e,n,r,i,s){for(;r();)this.CONSUME(n),i.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,n,r,i,s],r,Tn,e,s)}doSingleRepetition(e){const n=this.getLexerPosition();return e.call(this),this.getLexerPosition()>n}orInternal(e,n){const r=this.getKeyForAutomaticLookahead(Bs,n),i=N(e)?e:e.DEF,s=this.getLaFuncFromCache(r).call(this,i);if(s!==void 0)return i[s].ALT.call(this);this.raiseNoAltException(n,e.ERR_MSG)}ruleFinallyStateUpdate(){if(this.RULE_STACK.pop(),this.RULE_OCCURRENCE_STACK.pop(),this.cstFinallyStateUpdate(),this.RULE_STACK.length===0&&this.isAtEndOfInput()===!1){const e=this.LA(1),n=this.errorMessageProvider.buildNotAllInputParsedMessage({firstRedundant:e,ruleName:this.getCurrRuleFullName()});this.SAVE_ERROR(new Gd(n,e))}}subruleInternal(e,n,r){let i;try{const s=r!==void 0?r.ARGS:void 0;return this.subruleIdx=n,i=e.apply(this,s),this.cstPostNonTerminal(i,r!==void 0&&r.LABEL!==void 0?r.LABEL:e.ruleName),i}catch(s){throw this.subruleInternalError(s,r,e.ruleName)}}subruleInternalError(e,n,r){throw gn(e)&&e.partialCstResult!==void 0&&(this.cstPostNonTerminal(e.partialCstResult,n!==void 0&&n.LABEL!==void 0?n.LABEL:r),delete e.partialCstResult),e}consumeInternal(e,n,r){let i;try{const s=this.LA(1);this.tokenMatcher(s,e)===!0?(this.consumeToken(),i=s):this.consumeInternalError(e,s,r)}catch(s){i=this.consumeInternalRecovery(e,n,s)}return this.cstPostTerminal(r!==void 0&&r.LABEL!==void 0?r.LABEL:e.name,i),i}consumeInternalError(e,n,r){let i;const s=this.LA(0);throw r!==void 0&&r.ERR_MSG?i=r.ERR_MSG:i=this.errorMessageProvider.buildMismatchTokenMessage({expected:e,actual:n,previous:s,ruleName:this.getCurrRuleFullName()}),this.SAVE_ERROR(new js(i,n,s))}consumeInternalRecovery(e,n,r){if(this.recoveryEnabled&&r.name==="MismatchedTokenException"&&!this.isBackTracking()){const i=this.getFollowsForInRuleRecovery(e,n);try{return this.tryInRuleRecovery(e,i)}catch(s){throw s.name===Gs?r:s}}else throw r}saveRecogState(){const e=this.errors,n=W(this.RULE_STACK);return{errors:e,lexerState:this.exportLexerState(),RULE_STACK:n,CST_STACK:this.CST_STACK}}reloadRecogState(e){this.errors=e.errors,this.importLexerState(e.lexerState),this.RULE_STACK=e.RULE_STACK}ruleInvocationStateUpdate(e,n,r){this.RULE_OCCURRENCE_STACK.push(r),this.RULE_STACK.push(e),this.cstInvocationStateUpdate(n)}isBackTracking(){return this.isBackTrackingStack.length!==0}getCurrRuleFullName(){const e=this.getLastExplicitRuleShortName();return this.shortRuleNameToFull[e]}shortRuleNameToFullName(e){return this.shortRuleNameToFull[e]}isAtEndOfInput(){return this.tokenMatcher(this.LA(1),Je)}reset(){this.resetLexerState(),this.subruleIdx=0,this.isBackTrackingStack=[],this.errors=[],this.RULE_STACK=[],this.CST_STACK=[],this.RULE_OCCURRENCE_STACK=[]}}class up{initErrorHandler(e){this._errors=[],this.errorMessageProvider=O(e,"errorMessageProvider")?e.errorMessageProvider:De.errorMessageProvider}SAVE_ERROR(e){if(gn(e))return e.context={ruleStack:this.getHumanReadableRuleStack(),ruleOccurrenceStack:W(this.RULE_OCCURRENCE_STACK)},this._errors.push(e),e;throw Error("Trying to save an Error which is not a RecognitionException")}get errors(){return W(this._errors)}set errors(e){this._errors=e}raiseEarlyExitException(e,n,r){const i=this.getCurrRuleFullName(),s=this.getGAstProductions()[i],a=lr(e,s,n,this.maxLookahead)[0],o=[];for(let u=1;u<=this.maxLookahead;u++)o.push(this.LA(u));const c=this.errorMessageProvider.buildEarlyExitMessage({expectedIterationPaths:a,actual:o,previous:this.LA(0),customUserDescription:r,ruleName:i});throw this.SAVE_ERROR(new Bd(c,this.LA(1),this.LA(0)))}raiseNoAltException(e,n){const r=this.getCurrRuleFullName(),i=this.getGAstProductions()[r],s=ur(e,i,this.maxLookahead),a=[];for(let u=1;u<=this.maxLookahead;u++)a.push(this.LA(u));const o=this.LA(0),c=this.errorMessageProvider.buildNoViableAltMessage({expectedPathsPerAlt:s,actual:a,previous:o,customUserDescription:n,ruleName:this.getCurrRuleFullName()});throw this.SAVE_ERROR(new jd(c,this.LA(1),o))}}class lp{initContentAssist(){}computeContentAssist(e,n){const r=this.gastProductionsCache[e];if(Ue(r))throw Error(`Rule ->${e}<- does not exist in this grammar.`);return Ls([r],n,this.tokenMatcher,this.maxLookahead)}getNextPossibleTokenTypes(e){const n=Ee(e.ruleStack),r=this.getGAstProductions()[n];return new fd(r,e).startWalking()}}const An={description:"This Object indicates the Parser is during Recording Phase"};Object.freeze(An);const zs=!0,Ys=Math.pow(2,He)-1,Xs=P({name:"RECORDING_PHASE_TOKEN",pattern:q.NA});Mt([Xs]);const qs=ar(Xs,`This IToken indicates the Parser is in Recording Phase
	See: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details`,-1,-1,-1,-1,-1,-1);Object.freeze(qs);const hp={name:`This CSTNode indicates the Parser is in Recording Phase
	See: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details`,children:{}};class fp{initGastRecorder(e){this.recordingProdStack=[],this.RECORDING_PHASE=!1}enableRecording(){this.RECORDING_PHASE=!0,this.TRACE_INIT("Enable Recording",()=>{for(let e=0;e<10;e++){const n=e>0?e:"";this[`CONSUME${n}`]=function(r,i){return this.consumeInternalRecord(r,e,i)},this[`SUBRULE${n}`]=function(r,i){return this.subruleInternalRecord(r,e,i)},this[`OPTION${n}`]=function(r){return this.optionInternalRecord(r,e)},this[`OR${n}`]=function(r){return this.orInternalRecord(r,e)},this[`MANY${n}`]=function(r){this.manyInternalRecord(e,r)},this[`MANY_SEP${n}`]=function(r){this.manySepFirstInternalRecord(e,r)},this[`AT_LEAST_ONE${n}`]=function(r){this.atLeastOneInternalRecord(e,r)},this[`AT_LEAST_ONE_SEP${n}`]=function(r){this.atLeastOneSepFirstInternalRecord(e,r)}}this.consume=function(e,n,r){return this.consumeInternalRecord(n,e,r)},this.subrule=function(e,n,r){return this.subruleInternalRecord(n,e,r)},this.option=function(e,n){return this.optionInternalRecord(n,e)},this.or=function(e,n){return this.orInternalRecord(n,e)},this.many=function(e,n){this.manyInternalRecord(e,n)},this.atLeastOne=function(e,n){this.atLeastOneInternalRecord(e,n)},this.ACTION=this.ACTION_RECORD,this.BACKTRACK=this.BACKTRACK_RECORD,this.LA=this.LA_RECORD})}disableRecording(){this.RECORDING_PHASE=!1,this.TRACE_INIT("Deleting Recording methods",()=>{const e=this;for(let n=0;n<10;n++){const r=n>0?n:"";delete e[`CONSUME${r}`],delete e[`SUBRULE${r}`],delete e[`OPTION${r}`],delete e[`OR${r}`],delete e[`MANY${r}`],delete e[`MANY_SEP${r}`],delete e[`AT_LEAST_ONE${r}`],delete e[`AT_LEAST_ONE_SEP${r}`]}delete e.consume,delete e.subrule,delete e.option,delete e.or,delete e.many,delete e.atLeastOne,delete e.ACTION,delete e.BACKTRACK,delete e.LA})}ACTION_RECORD(e){}BACKTRACK_RECORD(e,n){return()=>!0}LA_RECORD(e){return vn}topLevelRuleRecord(e,n){try{const r=new ht({definition:[],name:e});return r.name=e,this.recordingProdStack.push(r),n.call(this),this.recordingProdStack.pop(),r}catch(r){if(r.KNOWN_RECORDER_ERROR!==!0)try{r.message=r.message+`
	 This error was thrown during the "grammar recording phase" For more info see:
	https://chevrotain.io/docs/guide/internals.html#grammar-recording`}catch{throw r}throw r}}optionInternalRecord(e,n){return wt.call(this,ee,e,n)}atLeastOneInternalRecord(e,n){wt.call(this,Se,n,e)}atLeastOneSepFirstInternalRecord(e,n){wt.call(this,Le,n,e,zs)}manyInternalRecord(e,n){wt.call(this,K,n,e)}manySepFirstInternalRecord(e,n){wt.call(this,ye,n,e,zs)}orInternalRecord(e,n){return dp.call(this,e,n)}subruleInternalRecord(e,n,r){if(_n(n),!e||O(e,"ruleName")===!1){const o=new Error(`<SUBRULE${Qs(n)}> argument is invalid expecting a Parser method reference but got: <${JSON.stringify(e)}>
 inside top level rule: <${this.recordingProdStack[0].name}>`);throw o.KNOWN_RECORDER_ERROR=!0,o}const i=ut(this.recordingProdStack),s=e.ruleName,a=new se({idx:n,nonTerminalName:s,label:r==null?void 0:r.LABEL,referencedRule:void 0});return i.definition.push(a),this.outputCst?hp:An}consumeInternalRecord(e,n,r){if(_n(n),!ds(e)){const a=new Error(`<CONSUME${Qs(n)}> argument is invalid expecting a TokenType reference but got: <${JSON.stringify(e)}>
 inside top level rule: <${this.recordingProdStack[0].name}>`);throw a.KNOWN_RECORDER_ERROR=!0,a}const i=ut(this.recordingProdStack),s=new $({idx:n,terminalType:e,label:r==null?void 0:r.LABEL});return i.definition.push(s),qs}}function wt(t,e,n,r=!1){_n(n);const i=ut(this.recordingProdStack),s=Me(e)?e:e.DEF,a=new t({definition:[],idx:n});return r&&(a.separator=e.SEP),O(e,"MAX_LOOKAHEAD")&&(a.maxLookahead=e.MAX_LOOKAHEAD),this.recordingProdStack.push(a),s.call(this),i.definition.push(a),this.recordingProdStack.pop(),An}function dp(t,e){_n(e);const n=ut(this.recordingProdStack),r=N(t)===!1,i=r===!1?t:t.DEF,s=new Ae({definition:[],idx:e,ignoreAmbiguities:r&&t.IGNORE_AMBIGUITIES===!0});O(t,"MAX_LOOKAHEAD")&&(s.maxLookahead=t.MAX_LOOKAHEAD);const a=Yi(i,o=>Me(o.GATE));return s.hasPredicates=a,n.definition.push(s),I(i,o=>{const c=new J({definition:[]});s.definition.push(c),O(o,"IGNORE_AMBIGUITIES")?c.ignoreAmbiguities=o.IGNORE_AMBIGUITIES:O(o,"GATE")&&(c.ignoreAmbiguities=!0),this.recordingProdStack.push(c),o.ALT.call(this),this.recordingProdStack.pop()}),An}function Qs(t){return t===0?"":`${t}`}function _n(t){if(t<0||t>Ys){const e=new Error(`Invalid DSL Method idx value: <${t}>
	Idx value must be a none negative value smaller than ${Ys+1}`);throw e.KNOWN_RECORDER_ERROR=!0,e}}class pp{initPerformanceTracer(e){if(O(e,"traceInitPerf")){const n=e.traceInitPerf,r=typeof n=="number";this.traceInitMaxIdent=r?n:1/0,this.traceInitPerf=r?n>0:n}else this.traceInitMaxIdent=0,this.traceInitPerf=De.traceInitPerf;this.traceInitIndent=-1}TRACE_INIT(e,n){if(this.traceInitPerf===!0){this.traceInitIndent++;const r=new Array(this.traceInitIndent+1).join("	");this.traceInitIndent<this.traceInitMaxIdent&&console.log(`${r}--> <${e}>`);const{time:i,value:s}=qi(n),a=i>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&a(`${r}<-- <${e}> time: ${i}ms`),this.traceInitIndent--,s}else return n()}}function mp(t,e){e.forEach(n=>{const r=n.prototype;Object.getOwnPropertyNames(r).forEach(i=>{if(i==="constructor")return;const s=Object.getOwnPropertyDescriptor(r,i);s&&(s.get||s.set)?Object.defineProperty(t.prototype,i,s):t.prototype[i]=n.prototype[i]})})}const vn=ar(Je,"",NaN,NaN,NaN,NaN,NaN,NaN);Object.freeze(vn);const De=Object.freeze({recoveryEnabled:!1,maxLookahead:3,dynamicTokensEnabled:!1,outputCst:!0,errorMessageProvider:Rs,nodeLocationTracking:"none",traceInitPerf:!1,skipValidations:!1}),On=Object.freeze({recoveryValueFunc:()=>{},resyncEnabled:!0});var Q;(function(t){t[t.INVALID_RULE_NAME=0]="INVALID_RULE_NAME",t[t.DUPLICATE_RULE_NAME=1]="DUPLICATE_RULE_NAME",t[t.INVALID_RULE_OVERRIDE=2]="INVALID_RULE_OVERRIDE",t[t.DUPLICATE_PRODUCTIONS=3]="DUPLICATE_PRODUCTIONS",t[t.UNRESOLVED_SUBRULE_REF=4]="UNRESOLVED_SUBRULE_REF",t[t.LEFT_RECURSION=5]="LEFT_RECURSION",t[t.NONE_LAST_EMPTY_ALT=6]="NONE_LAST_EMPTY_ALT",t[t.AMBIGUOUS_ALTS=7]="AMBIGUOUS_ALTS",t[t.CONFLICT_TOKENS_RULES_NAMESPACE=8]="CONFLICT_TOKENS_RULES_NAMESPACE",t[t.INVALID_TOKEN_NAME=9]="INVALID_TOKEN_NAME",t[t.NO_NON_EMPTY_LOOKAHEAD=10]="NO_NON_EMPTY_LOOKAHEAD",t[t.AMBIGUOUS_PREFIX_ALTS=11]="AMBIGUOUS_PREFIX_ALTS",t[t.TOO_MANY_ALTS=12]="TOO_MANY_ALTS",t[t.CUSTOM_LOOKAHEAD_VALIDATION=13]="CUSTOM_LOOKAHEAD_VALIDATION"})(Q||(Q={}));class Ut{static performSelfAnalysis(e){throw Error("The **static** `performSelfAnalysis` method has been deprecated.	\nUse the **instance** method with the same name instead.")}performSelfAnalysis(){this.TRACE_INIT("performSelfAnalysis",()=>{let e;this.selfAnalysisDone=!0;const n=this.className;this.TRACE_INIT("toFastProps",()=>{Qi(this)}),this.TRACE_INIT("Grammar Recording",()=>{try{this.enableRecording(),I(this.definedRulesNames,i=>{const s=this[i].originalGrammarAction;let a;this.TRACE_INIT(`${i} Rule`,()=>{a=this.topLevelRuleRecord(i,s)}),this.gastProductionsCache[i]=a})}finally{this.disableRecording()}});let r=[];if(this.TRACE_INIT("Grammar Resolving",()=>{r=$d({rules:V(this.gastProductionsCache)}),this.definitionErrors=this.definitionErrors.concat(r)}),this.TRACE_INIT("Grammar Validations",()=>{if(U(r)&&this.skipValidations===!1){const i=Fd({rules:V(this.gastProductionsCache),tokenTypes:V(this.tokensMap),errMsgProvider:et,grammarName:n}),s=Od({lookaheadStrategy:this.lookaheadStrategy,rules:V(this.gastProductionsCache),tokenTypes:V(this.tokensMap),grammarName:n});this.definitionErrors=this.definitionErrors.concat(i,s)}}),U(this.definitionErrors)&&(this.recoveryEnabled&&this.TRACE_INIT("computeAllProdsFollows",()=>{const i=gf(V(this.gastProductionsCache));this.resyncFollows=i}),this.TRACE_INIT("ComputeLookaheadFunctions",()=>{var i,s;(s=(i=this.lookaheadStrategy).initialize)===null||s===void 0||s.call(i,{rules:V(this.gastProductionsCache)}),this.preComputeLookaheadFunctions(V(this.gastProductionsCache))})),!Ut.DEFER_DEFINITION_ERRORS_HANDLING&&!U(this.definitionErrors))throw e=v(this.definitionErrors,i=>i.message),new Error(`Parser Definition Errors detected:
 ${e.join(`
-------------------------------
`)}`)})}constructor(e,n){this.definitionErrors=[],this.selfAnalysisDone=!1;const r=this;if(r.initErrorHandler(n),r.initLexerAdapter(),r.initLooksAhead(n),r.initRecognizerEngine(e,n),r.initRecoverable(n),r.initTreeBuilder(n),r.initContentAssist(),r.initGastRecorder(n),r.initPerformanceTracer(n),O(n,"ignoredIssues"))throw new Error(`The <ignoredIssues> IParserConfig property has been deprecated.
	Please use the <IGNORE_AMBIGUITIES> flag on the relevant DSL method instead.
	See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#IGNORING_AMBIGUITIES
	For further details.`);this.skipValidations=O(n,"skipValidations")?n.skipValidations:De.skipValidations}}Ut.DEFER_DEFINITION_ERRORS_HANDLING=!1,mp(Ut,[Kd,Yd,sp,ap,cp,op,up,lp,fp,pp]);class gp extends Ut{constructor(e,n=De){const r=W(n);r.outputCst=!0,super(e,r)}}const Zs=P({name:"HTML_COMMENT",pattern:/<!--[\s\S]*?-->/,line_breaks:!0}),Js=P({name:"HTML_CONDITIONAL_COMMENT",pattern:/<!\[[\s\S]*?\]>/,line_breaks:!0}),Ep=P({name:"XML",pattern:/<\?xml(?:.|\s)*?\?>/}),ea=P({name:"CDATA",pattern:/<!\[CDATA\[[\s\S]*?]]>/}),ta=P({name:"DTD",pattern:/<!.*?>/}),na=P({name:"SCRIPTLET",pattern:/<%(.*?)%>|<\?(.*?)\?>/}),Tp=P({name:"SEA_WS",pattern:/[ \t]+/,group:q.SKIPPED}),ra=P({name:"LINE_BREAK",pattern:/\r?\n/}),ia=P({name:"SCRIPT_OPEN",pattern:/<script\b[^>]*>/,push_mode:"SCRIPT"}),sa=P({name:"STYLE_OPEN",pattern:/<style\b[^>]*>/,push_mode:"STYLE"}),yr=P({name:"TAG_OPEN",pattern:/</,push_mode:"TAG"}),aa=P({name:"HTML_TEXT",pattern:/[^<@]+/,line_breaks:!0}),Ar=P({name:"TAG_CLOSE",pattern:/>/,pop_mode:!0}),oa=P({name:"TAG_SLASH_CLOSE",pattern:/\/>/,pop_mode:!0}),ca=P({name:"TAG_SLASH",pattern:/\//}),ua=P({name:"TAG_EQUALS",pattern:/=/,push_mode:"ATTVALUE"}),Rn=P({name:"TAG_NAME",pattern:/[:@a-zA-Z\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:\.\-@\u00B7\u0300-\u036F\u203F-\u2040.0-9a-zA-Z]*/}),yp=P({name:"TAG_WHITESPACE",pattern:/[ \t\r\n]+/,group:q.SKIPPED}),la=P({name:"SCRIPT_BODY",pattern:/[\s\S]*?<\/script>/,pop_mode:!0}),ha=P({name:"STYLE_BODY",pattern:/[\s\S]*?<\/style>/,pop_mode:!0}),fa=P({name:"ATTVALUE_VALUE",pattern:/ *("[^<"]*"|'[^<']*'|[-_./+,?=:#;0-9a-zA-Z]+ ?|#[0-9a-fA-F]+|[0-9]+%?)/,pop_mode:!0}),_r=P({name:"EDGE_COMMENT",pattern:/{{--[\s\S]*?--}}/,line_breaks:!0}),vr=P({name:"EDGE_MUSTACHE",pattern:/{{[\s\S]*?}}\s*/}),Or=P({name:"EDGE_SAFE_MUSTACHE",pattern:/{{{[\s\S]*?}}}\s*/}),da=P({name:"EDGE_ESCAPED_MUSTACHE",pattern:/@{{[\s\S]*?}}\s*/}),pa=P({name:"EDGE_TAG",pattern:/@(?:!?\w+(?:\.\w+)*)\s*(?:\((?:[^)(]+|\((?:[^)(]+|\([^)(]*\))*\))*\))?/}),ma=P({name:"EDGE_TAG_PROP",pattern:/@(if|elseif|else|each|flashMessage)\([^)]*\)\s*([\s\S]*?)@end/}),Rr={defaultMode:"default",modes:{default:[Zs,Js,Ep,ea,ta,na,ra,Tp,ia,sa,yr,_r,da,Or,vr,pa,aa],TAG:[Ar,oa,ca,ua,_r,Or,vr,ma,Rn,yp],SCRIPT:[la],STYLE:[ha],ATTVALUE:[fa]}},Ap=()=>{const t=[];for(const e in Rr.modes)t.push(...Rr.modes[e]);return t},_p=new q(Rr);class ga extends gp{constructor(){super(Ap());const e=this;e.RULE("document",()=>{e.MANY(()=>{e.SUBRULE(e.content)})}),e.RULE("content",()=>{e.OR([{ALT:()=>e.CONSUME(aa)},{ALT:()=>e.CONSUME(ra)},{ALT:()=>e.SUBRULE(e.element)},{ALT:()=>e.SUBRULE(e.scriptlet)},{ALT:()=>e.SUBRULE(e.htmlComment)},{ALT:()=>e.SUBRULE(e.htmlConditionalComment)},{ALT:()=>e.SUBRULE(e.cdata)},{ALT:()=>e.SUBRULE(e.dtd)},{ALT:()=>e.SUBRULE(e.scriptElement)},{ALT:()=>e.SUBRULE(e.styleElement)},{ALT:()=>e.SUBRULE(e.edgeComment)},{ALT:()=>e.SUBRULE(e.edgeSafeMustache)},{ALT:()=>e.SUBRULE(e.edgeMustache)},{ALT:()=>e.SUBRULE(e.edgeEscapedMustache)},{ALT:()=>e.SUBRULE(e.edgeTag)}])}),e.RULE("element",()=>{e.OR([{ALT:()=>e.SUBRULE(e.openingTag)},{ALT:()=>e.SUBRULE(e.closingTag)}])}),e.RULE("openingTag",()=>{e.CONSUME(yr),e.CONSUME(Rn),e.MANY(()=>{e.OR([{ALT:()=>e.SUBRULE(e.edgeTagProp)},{ALT:()=>e.SUBRULE(e.attribute)},{ALT:()=>e.SUBRULE(e.edgeSafeMustache)},{ALT:()=>e.SUBRULE(e.edgeMustache)},{ALT:()=>e.SUBRULE(e.edgeComment)}])}),e.OR1([{ALT:()=>e.CONSUME1(oa)},{ALT:()=>e.CONSUME1(Ar)}])}),e.RULE("attribute",()=>{e.CONSUME(Rn),e.OPTION(()=>{e.CONSUME(ua),e.CONSUME(fa)})}),e.RULE("closingTag",()=>{e.CONSUME(yr),e.CONSUME(ca),e.CONSUME(Rn),e.CONSUME(Ar)}),e.RULE("scriptlet",()=>{e.CONSUME(na)}),e.RULE("htmlComment",()=>{e.CONSUME(Zs)}),e.RULE("htmlConditionalComment",()=>{e.CONSUME(Js)}),e.RULE("cdata",()=>{e.CONSUME(ea)}),e.RULE("dtd",()=>{e.CONSUME(ta)}),e.RULE("scriptElement",()=>{e.CONSUME(ia),e.CONSUME(la)}),e.RULE("styleElement",()=>{e.CONSUME(sa),e.CONSUME(ha)}),e.RULE("edgeComment",()=>{e.CONSUME(_r)}),e.RULE("edgeMustache",()=>{e.CONSUME(vr)}),e.RULE("edgeSafeMustache",()=>{e.CONSUME(Or)}),e.RULE("edgeEscapedMustache",()=>{e.CONSUME(da)}),e.RULE("edgeTag",()=>{e.CONSUME(pa)}),e.RULE("edgeTagProp",()=>{e.CONSUME(ma)}),this.performSelfAnalysis()}}const vp=new ga,Op=vp.getBaseCstVisitorConstructor();var Ir,In,Sr;class Rp extends Op{constructor(){super(),Fr(this,In),Fr(this,Ir,new Set(["area","base","br","col","embed","hr","img","input","link","meta","param","source","track","wbr","animateMotion","animateTransform","animate","circle","ellipse","feGaussianBlur","feDropShadow","feOffset","feBlend","feColorMatrix","feComposite","feDisplacementMap","feFlood","feImage","feMergeNode","feMorphology","fePointLight","feSpotLight","feTile","feTurbulence","image","line","mpath","path","polygon","polyline","rect","set","stop","use","view"])),this.validateVisitor()}document(e){const n=e.content[0].startOffset,r=e.content[e.content.length-1].endOffset;return{type:"document",children:e.content.map(i=>this.visit(i)),start:n,end:r}}content(e){if(e.HTML_TEXT)return{type:"htmlText",value:e.HTML_TEXT[0].image,start:e.HTML_TEXT[0].startOffset,end:e.HTML_TEXT[0].endOffset};if(e.LINE_BREAK)return{type:"linebreak",value:e.LINE_BREAK[0].image,start:e.LINE_BREAK[0].startOffset,end:e.LINE_BREAK[0].endOffset};const n=e.element||e.scriptlet||e.htmlComment||e.htmlConditionalComment||e.cdata||e.dtd||e.scriptElement||e.styleElement||e.edgeComment||e.edgeMustache||e.edgeSafeMustache||e.edgeEscapedMustache||e.edgeTag||e.htmlText;return this.visit(n)}element(e){return e.openingTag?this.visit(e.openingTag):e.selfClosingTag?this.visit(e.selfClosingTag):this.visit(e.closingTag)}openingTag(e){const n=e.TAG_NAME[0].image,r=e.edgeSafeMustache?e.edgeSafeMustache.map(l=>this.visit(l)):[],i=e.edgeMustache?e.edgeMustache.map(l=>this.visit(l)):[],s=e.edgeTagProp?e.edgeTagProp.map(l=>this.visit(l)):[],a=e.attribute?e.attribute.map(l=>this.visit(l)):[],o=e.edgeComment?e.edgeComment.map(l=>this.visit(l)):[],c=e.TAG_NAME[0].startOffset,u=e.TAG_NAME[0].endOffset;return jr(this,In,Sr).call(this,n)||e.TAG_SLASH_CLOSE?{type:"voidTag",tagName:n,edgeSafeMustaches:r,edgeMustaches:i,edgeTagProps:s,attributes:a,comments:o,start:c,end:u}:{type:"openingTag",tagName:n,edgeSafeMustaches:r,edgeMustaches:i,edgeTagProps:s,attributes:a,comments:o,start:c,end:u}}attribute(e){var n,r,i;const s=e.TAG_NAME[0].image,a=(i=(r=(n=e.ATTVALUE_VALUE)==null?void 0:n[0])==null?void 0:r.image)==null?void 0:i.trim(),o=e.TAG_NAME[0].startOffset,c=e.ATTVALUE_VALUE?e.ATTVALUE_VALUE[0].endOffset:e.TAG_NAME[0].endOffset;return{type:"attribute",attributeName:s,attributeValue:a,start:o,end:c}}closingTag(e){const n=e.TAG_NAME[0].image,r=e.TAG_OPEN[0].startOffset,i=e.TAG_CLOSE[0].endOffset;return jr(this,In,Sr).call(this,n)?{type:"doNotPrint"}:{type:"closingTag",tagName:n,start:r,end:i}}scriptlet(e){const n=e.SCRIPTLET[0].image,r=e.SCRIPTLET[0].startOffset,i=e.SCRIPTLET[0].endOffset;return{type:"scriptlet",value:n,start:r,end:i}}htmlComment(e){const n=e.HTML_COMMENT[0].image,r=e.HTML_COMMENT[0].startOffset,i=e.HTML_COMMENT[0].endOffset;return{type:"htmlComment",value:n,start:r,end:i}}htmlConditionalComment(e){const n=e.HTML_CONDITIONAL_COMMENT[0].image,r=e.HTML_CONDITIONAL_COMMENT[0].startOffset,i=e.HTML_CONDITIONAL_COMMENT[0].endOffset;return{type:"htmlConditionalComment",value:n,start:r,end:i}}cdata(e){const n=e.CDATA[0].image,r=e.CDATA[0].startOffset,i=e.CDATA[0].endOffset;return{type:"cdata",value:n,start:r,end:i}}dtd(e){const n=e.DTD[0].image,r=e.DTD[0].startOffset,i=e.DTD[0].endOffset;return{type:"dtd",value:n,start:r,end:i}}scriptElement(e){const n=e.SCRIPT_OPEN[0].image+e.SCRIPT_BODY[0].image,r=e.SCRIPT_OPEN[0].startOffset,i=e.SCRIPT_BODY[0].endOffset;return{type:"scriptElement",value:n,start:r,end:i}}styleElement(e){const n=e.STYLE_OPEN[0].image+e.STYLE_BODY[0].image,r=e.STYLE_OPEN[0].startOffset,i=e.STYLE_BODY[0].endOffset;return{type:"styleElement",value:n,start:r,end:i}}edgeComment(e){const n=e.EDGE_COMMENT[0].image,r=e.EDGE_COMMENT[0].startOffset,i=e.EDGE_COMMENT[0].endOffset;return{type:"edgeComment",value:n,start:r,end:i}}edgeMustache(e){const n=e.EDGE_MUSTACHE[0].image,r=e.EDGE_MUSTACHE[0].startOffset,i=e.EDGE_MUSTACHE[0].endOffset;return{type:"edgeMustache",value:n,start:r,end:i}}edgeSafeMustache(e){const n=e.EDGE_SAFE_MUSTACHE[0].image,r=e.EDGE_SAFE_MUSTACHE[0].startOffset,i=e.EDGE_SAFE_MUSTACHE[0].endOffset;return{type:"edgeSafeMustache",value:n,start:r,end:i}}edgeEscapedMustache(e){const n=e.EDGE_ESCAPED_MUSTACHE[0].image,r=e.EDGE_ESCAPED_MUSTACHE[0].startOffset,i=e.EDGE_ESCAPED_MUSTACHE[0].endOffset;return{type:"edgeEscapedMustache",value:n,start:r,end:i}}edgeTag(e){const n=e.EDGE_TAG[0].image,r=e.EDGE_TAG[0].startOffset,i=e.EDGE_TAG[0].endOffset;return{type:"edgeTag",value:n,start:r,end:i}}edgeTagProp(e){const n=e.EDGE_TAG_PROP[0].image,r=e.EDGE_TAG_PROP[0].startOffset,i=e.EDGE_TAG_PROP[0].endOffset;return{type:"edgeTagProp",value:n,start:r,end:i}}}Ir=new WeakMap,In=new WeakSet,Sr=function(t){return La(this,Ir).has(t)};const Sn=new ga,Ip=new Rp;function Lr(t){const e=_p.tokenize(t);Sn.input=e.tokens;const n=Sn.document();if(Sn.errors.length>0)throw new Error(`Parsing Errors Detected: ${JSON.stringify(Sn.errors)}`);return Ip.visit(n)}function Ea(t){Object.defineProperty(t,"__esModule",{value:!0,configurable:!0})}function kr(t,e,n,r){Object.defineProperty(t,e,{get:n,set:r,enumerable:!0,configurable:!0})}var Ta={};Ea(Ta),kr(Ta,"default",()=>ya);class ya extends Error{constructor(e,n,r,i,s){super(e+":"+r+":"+i+": "+n),this.reason=n,this.filename=e,this.line=r,this.column=i,this.source=s}}var Aa={};Ea(Aa),kr(Aa,"default",()=>_a);class _a{constructor(e,n,r){this.start=e,this.end=n,this.source=r}}var Sp={};kr(Sp,"CssTypes",()=>b);var b=function(t){return t.stylesheet="stylesheet",t.rule="rule",t.declaration="declaration",t.comment="comment",t.container="container",t.charset="charset",t.document="document",t.customMedia="custom-media",t.fontFace="font-face",t.host="host",t.import="import",t.keyframes="keyframes",t.keyframe="keyframe",t.layer="layer",t.media="media",t.namespace="namespace",t.page="page",t.startingStyle="starting-style",t.supports="supports",t}({});const va=1e4,Oa=(t,e,n)=>{let r=n,i=va;do{const s=e.map(c=>t.indexOf(c,r));s.push(t.indexOf("\\",r));const a=s.filter(c=>c!==-1);if(a.length===0)return-1;const o=Math.min(...a);if(t[o]==="\\")r=o+2,i--;else return o}while(i>0);throw new Error("Too many escaping")},Cr=(t,e,n)=>{let r=n,i=va;do{const s=e.map(u=>t.indexOf(u,r));s.push(t.indexOf("(",r)),s.push(t.indexOf('"',r)),s.push(t.indexOf("'",r)),s.push(t.indexOf("\\",r));const a=s.filter(u=>u!==-1);if(a.length===0)return-1;const o=Math.min(...a);switch(t[o]){case"\\":r=o+2;break;case"(":{const u=Cr(t,[")"],o+1);if(u===-1)return-1;r=u+1}break;case'"':{const u=Oa(t,['"'],o+1);if(u===-1)return-1;r=u+1}break;case"'":{const u=Oa(t,["'"],o+1);if(u===-1)return-1;r=u+1}break;default:return o}i--}while(i>0);throw new Error("Too many escaping")},Lp=(t,e)=>{const n=[];let r=0;for(;r<t.length;){const i=Cr(t,e,r);if(i===-1)return n.push(t.substring(r)),n;n.push(t.substring(r,i)),r=i+1}return n},br=/\/\*[^]*?(?:\*\/|$)/g,kp=(t,e)=>{e=e||{};let n=1,r=1;function i(g){const E=g.match(/\n/g);E&&(n+=E.length);const k=g.lastIndexOf(`
`);r=~k?g.length-k:r+g.length}function s(){const g={line:n,column:r};return function(E){return E.position=new _a(g,{line:n,column:r},(e==null?void 0:e.source)||""),T(),E}}const a=[];function o(g){const E=new ya((e==null?void 0:e.source)||"",g,n,r,t);if(e!=null&&e.silent)a.push(E);else throw E}function c(){const g=h();return{type:b.stylesheet,stylesheet:{source:e==null?void 0:e.source,rules:g,parsingErrors:a}}}function u(){const g=/^{\s*/.exec(t);return g?(f(g),!0):!1}function l(){const g=/^}/.exec(t);return g?(f(g),!0):!1}function h(){let g;const E=[];for(T(),p(E);t.length&&t.charAt(0)!=="}"&&(g=it()||Ln());)g&&(E.push(g),p(E));return E}function f(g){const E=g[0];return i(E),t=t.slice(E.length),g}function T(){const g=/^\s*/.exec(t);g&&f(g)}function p(g){let E;for(g=g||[];E=_();)E&&g.push(E);return g}function _(){const g=s();if(t.charAt(0)!=="/"||t.charAt(1)!=="*")return;const E=/^\/\*[^]*?\*\//.exec(t);return E?(f(E),g({type:b.comment,comment:E[0].slice(2,-2)})):o("End of comment missing")}function R(){const g=/^([^{]+)/.exec(t);if(!g)return;f(g);const E=fe(g[0]).replace(br,"");return Lp(E,[","]).map(k=>fe(k))}function A(){const g=s(),E=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/.exec(t);if(!E)return;f(E);const k=fe(E[0]),C=/^:\s*/.exec(t);if(!C)return o("property missing ':'");f(C);let F="";const x=Cr(t,[";","}"]);x!==-1&&(F=t.substring(0,x),f([F]),F=fe(F).replace(br,""));const H=g({type:b.declaration,property:k.replace(br,""),value:F}),$e=/^[;\s]*/.exec(t);return $e&&f($e),H}function y(){const g=[];if(!u())return o("missing '{'");p(g);let E;for(;E=A();)E&&(g.push(E),p(g));return l()?g:o("missing '}'")}function d(){let g;const E=[],k=s();for(;g=/^((\d+\.\d+|\.\d+|\d+)%?|[a-z]+)\s*/.exec(t);){const C=f(g);E.push(C[1]);const F=/^,\s*/.exec(t);F&&f(F)}if(E.length)return k({type:b.keyframe,values:E,declarations:y()||[]})}function m(){const g=s(),E=/^@([-\w]+)?keyframes\s*/.exec(t);if(!E)return;const k=f(E)[1],C=/^([-\w]+)\s*/.exec(t);if(!C)return o("@keyframes missing name");const F=f(C)[1];if(!u())return o("@keyframes missing '{'");let x,H=p();for(;x=d();)H.push(x),H=H.concat(p());return l()?g({type:b.keyframes,name:F,vendor:k,keyframes:H}):o("@keyframes missing '}'")}function L(){const g=s(),E=/^@supports *([^{]+)/.exec(t);if(!E)return;const k=fe(f(E)[1]);if(!u())return o("@supports missing '{'");const C=p().concat(h());return l()?g({type:b.supports,supports:k,rules:C}):o("@supports missing '}'")}function Y(){const g=s(),E=/^@host\s*/.exec(t);if(!E)return;if(f(E),!u())return o("@host missing '{'");const k=p().concat(h());return l()?g({type:b.host,rules:k}):o("@host missing '}'")}function de(){const g=s(),E=/^@container *([^{]+)/.exec(t);if(!E)return;const k=fe(f(E)[1]);if(!u())return o("@container missing '{'");const C=p().concat(h());return l()?g({type:b.container,container:k,rules:C}):o("@container missing '}'")}function Ce(){const g=s(),E=/^@layer *([^{;@]+)/.exec(t);if(!E)return;const k=fe(f(E)[1]);if(!u()){const F=/^[;\s]*/.exec(t);return F&&f(F),g({type:b.layer,layer:k})}const C=p().concat(h());return l()?g({type:b.layer,layer:k,rules:C}):o("@layer missing '}'")}function tt(){const g=s(),E=/^@media *([^{]+)/.exec(t);if(!E)return;const k=fe(f(E)[1]);if(!u())return o("@media missing '{'");const C=p().concat(h());return l()?g({type:b.media,media:k,rules:C}):o("@media missing '}'")}function be(){const g=s(),E=/^@custom-media\s+(--\S+)\s+([^{;\s][^{;]*);/.exec(t);if(!E)return;const k=f(E);return g({type:b.customMedia,name:fe(k[1]),media:fe(k[2])})}function nt(){const g=s(),E=/^@page */.exec(t);if(!E)return;f(E);const k=R()||[];if(!u())return o("@page missing '{'");let C=p(),F;for(;F=A();)C.push(F),C=C.concat(p());return l()?g({type:b.page,selectors:k,declarations:C}):o("@page missing '}'")}function Ur(){const g=s(),E=/^@([-\w]+)?document *([^{]+)/.exec(t);if(!E)return;const k=f(E),C=fe(k[1]),F=fe(k[2]);if(!u())return o("@document missing '{'");const x=p().concat(h());return l()?g({type:b.document,document:F,vendor:C,rules:x}):o("@document missing '}'")}function Dt(){const g=s(),E=/^@font-face\s*/.exec(t);if(!E)return;if(f(E),!u())return o("@font-face missing '{'");let k=p(),C;for(;C=A();)k.push(C),k=k.concat(p());return l()?g({type:b.fontFace,declarations:k}):o("@font-face missing '}'")}function pt(){const g=s(),E=/^@starting-style\s*/.exec(t);if(!E)return;if(f(E),!u())return o("@starting-style missing '{'");const k=p().concat(h());return l()?g({type:b.startingStyle,rules:k}):o("@starting-style missing '}'")}const Ne=gt("import"),rt=gt("charset"),mt=gt("namespace");function gt(g){const E=new RegExp("^@"+g+`\\s*((?::?[^;'"]|"(?:\\\\"|[^"])*?"|'(?:\\\\'|[^'])*?')+)(?:;|$)`);return function(){const k=s(),C=E.exec(t);if(!C)return;const F=f(C),x={type:g};return x[g]=F[1].trim(),k(x)}}function it(){if(t[0]==="@")return m()||tt()||be()||L()||Ne()||rt()||mt()||Ur()||nt()||Y()||Dt()||de()||pt()||Ce()}function Ln(){const g=s(),E=R();return E?(p(),g({type:b.rule,selectors:E,declarations:y()||[]})):o("selector missing")}return Nr(c())};function fe(t){return t?t.trim():""}function Nr(t,e){const n=t&&typeof t.type=="string",r=n?t:e;for(const i in t){const s=t[i];Array.isArray(s)?s.forEach(a=>{Nr(a,r)}):s&&typeof s=="object"&&Nr(s,r)}return n&&Object.defineProperty(t,"parent",{configurable:!0,writable:!0,enumerable:!1,value:e||null}),t}var Cp=kp;class bp{constructor(e){this.level=0,this.indentation="  ",this.compress=!1,typeof(e==null?void 0:e.indent)=="string"&&(this.indentation=e==null?void 0:e.indent),e!=null&&e.compress&&(this.compress=!0)}emit(e,n){return e}indent(e){return this.level=this.level||1,e?(this.level+=e,""):Array(this.level).join(this.indentation)}visit(e){switch(e.type){case b.stylesheet:return this.stylesheet(e);case b.rule:return this.rule(e);case b.declaration:return this.declaration(e);case b.comment:return this.comment(e);case b.container:return this.container(e);case b.charset:return this.charset(e);case b.document:return this.document(e);case b.customMedia:return this.customMedia(e);case b.fontFace:return this.fontFace(e);case b.host:return this.host(e);case b.import:return this.import(e);case b.keyframes:return this.keyframes(e);case b.keyframe:return this.keyframe(e);case b.layer:return this.layer(e);case b.media:return this.media(e);case b.namespace:return this.namespace(e);case b.page:return this.page(e);case b.startingStyle:return this.startingStyle(e);case b.supports:return this.supports(e)}}mapVisit(e,n){let r="";n=n||"";for(let i=0,s=e.length;i<s;i++)r+=this.visit(e[i]),n&&i<s-1&&(r+=this.emit(n));return r}compile(e){return this.compress?e.stylesheet.rules.map(this.visit,this).join(""):this.stylesheet(e)}stylesheet(e){return this.mapVisit(e.stylesheet.rules,`

`)}comment(e){return this.compress?this.emit("",e.position):this.emit(this.indent()+"/*"+e.comment+"*/",e.position)}container(e){return this.compress?this.emit("@container "+e.container,e.position)+this.emit("{")+this.mapVisit(e.rules)+this.emit("}"):this.emit(this.indent()+"@container "+e.container,e.position)+this.emit(` {
`+this.indent(1))+this.mapVisit(e.rules,`

`)+this.emit(`
`+this.indent(-1)+this.indent()+"}")}layer(e){return this.compress?this.emit("@layer "+e.layer,e.position)+(e.rules?this.emit("{")+this.mapVisit(e.rules)+this.emit("}"):";"):this.emit(this.indent()+"@layer "+e.layer,e.position)+(e.rules?this.emit(` {
`+this.indent(1))+this.mapVisit(e.rules,`

`)+this.emit(`
`+this.indent(-1)+this.indent()+"}"):";")}import(e){return this.emit("@import "+e.import+";",e.position)}media(e){return this.compress?this.emit("@media "+e.media,e.position)+this.emit("{")+this.mapVisit(e.rules)+this.emit("}"):this.emit(this.indent()+"@media "+e.media,e.position)+this.emit(` {
`+this.indent(1))+this.mapVisit(e.rules,`

`)+this.emit(`
`+this.indent(-1)+this.indent()+"}")}document(e){const n="@"+(e.vendor||"")+"document "+e.document;return this.compress?this.emit(n,e.position)+this.emit("{")+this.mapVisit(e.rules)+this.emit("}"):this.emit(n,e.position)+this.emit(`  {
`+this.indent(1))+this.mapVisit(e.rules,`

`)+this.emit(this.indent(-1)+`
}`)}charset(e){return this.emit("@charset "+e.charset+";",e.position)}namespace(e){return this.emit("@namespace "+e.namespace+";",e.position)}startingStyle(e){return this.compress?this.emit("@starting-style",e.position)+this.emit("{")+this.mapVisit(e.rules)+this.emit("}"):this.emit(this.indent()+"@starting-style",e.position)+this.emit(` {
`+this.indent(1))+this.mapVisit(e.rules,`

`)+this.emit(`
`+this.indent(-1)+this.indent()+"}")}supports(e){return this.compress?this.emit("@supports "+e.supports,e.position)+this.emit("{")+this.mapVisit(e.rules)+this.emit("}"):this.emit(this.indent()+"@supports "+e.supports,e.position)+this.emit(` {
`+this.indent(1))+this.mapVisit(e.rules,`

`)+this.emit(`
`+this.indent(-1)+this.indent()+"}")}keyframes(e){return this.compress?this.emit("@"+(e.vendor||"")+"keyframes "+e.name,e.position)+this.emit("{")+this.mapVisit(e.keyframes)+this.emit("}"):this.emit("@"+(e.vendor||"")+"keyframes "+e.name,e.position)+this.emit(` {
`+this.indent(1))+this.mapVisit(e.keyframes,`
`)+this.emit(this.indent(-1)+"}")}keyframe(e){const n=e.declarations;return this.compress?this.emit(e.values.join(","),e.position)+this.emit("{")+this.mapVisit(n)+this.emit("}"):this.emit(this.indent())+this.emit(e.values.join(", "),e.position)+this.emit(` {
`+this.indent(1))+this.mapVisit(n,`
`)+this.emit(this.indent(-1)+`
`+this.indent()+`}
`)}page(e){if(this.compress){const r=e.selectors.length?e.selectors.join(", "):"";return this.emit("@page "+r,e.position)+this.emit("{")+this.mapVisit(e.declarations)+this.emit("}")}const n=e.selectors.length?e.selectors.join(", ")+" ":"";return this.emit("@page "+n,e.position)+this.emit(`{
`)+this.emit(this.indent(1))+this.mapVisit(e.declarations,`
`)+this.emit(this.indent(-1))+this.emit(`
}`)}fontFace(e){return this.compress?this.emit("@font-face",e.position)+this.emit("{")+this.mapVisit(e.declarations)+this.emit("}"):this.emit("@font-face ",e.position)+this.emit(`{
`)+this.emit(this.indent(1))+this.mapVisit(e.declarations,`
`)+this.emit(this.indent(-1))+this.emit(`
}`)}host(e){return this.compress?this.emit("@host",e.position)+this.emit("{")+this.mapVisit(e.rules)+this.emit("}"):this.emit("@host",e.position)+this.emit(` {
`+this.indent(1))+this.mapVisit(e.rules,`

`)+this.emit(this.indent(-1)+`
}`)}customMedia(e){return this.emit("@custom-media "+e.name+" "+e.media+";",e.position)}rule(e){const n=e.declarations;if(!n.length)return"";if(this.compress)return this.emit(e.selectors.join(","),e.position)+this.emit("{")+this.mapVisit(n)+this.emit("}");const r=this.indent();return this.emit(e.selectors.map(i=>r+i).join(`,
`),e.position)+this.emit(` {
`)+this.emit(this.indent(1))+this.mapVisit(n,`
`)+this.emit(this.indent(-1))+this.emit(`
`+this.indent()+"}")}declaration(e){return this.compress?this.emit(e.property+":"+e.value,e.position)+this.emit(";"):e.property==="grid-template-areas"?this.emit(this.indent())+this.emit(e.property+": "+e.value.split(`
`).join(`
`.padEnd(22)+this.indent()),e.position)+this.emit(";"):this.emit(this.indent())+this.emit(e.property+": "+e.value,e.position)+this.emit(";")}}var Np=bp,Mp=(t,e)=>new Np(e||{}).compile(t),Ra={parse:Cp,stringify:Mp};const Pp=2;let Mr=0;function xp(t){return t.type!=="linebreak"?(Mr=0,!0):(Mr++,Mr<=Pp)}function wp(t){return t.replace(/{{--(?![\s\n\r\t])/g,"{{-- ").replace(new RegExp("(?<![\\s\\n\\r\\t])--}}","g")," --}}")}function Pr(t){const e=/{{{[^{}]*}}}/g,n="__TRIPLE_CURLY__",r=[];return t=t.replace(e,i=>{const s=`${n}${r.length}`;return r.push(i),s}),t=t.replace(/{{\s*/g,"{{ ").replace(/\s*}}/g," }}"),r.forEach((i,s)=>{t=t.replace(`${n}${s}`,i)}),t}function xr(t){return t.replace(/{{{\s*/g,"{{{ ").replace(/\s*}}}/g," }}}")}function Up(t,e,n,r,i,s){const a=/<style\b[^>]*>([\s\S]*?)<\/style>/gi,o=/{{.*?}}/g,c=/{{{.*?}}}/g,u=/@(?!media|keyframes|supports|font-face|viewport|counter-style|page|document|font-feature-values)(?:!?\w+(?:\.\w+)*)\s*(?:\((?:[^)(]+|\((?:[^)(]+|\([^)(]*\))*\))*\))?[\s\S]*?@end/g,l=/@(assign|!component|debugger|eval|include|includeIf|inject|stack|svg|let|newError|vite|inertia|dd|dump)\s*(?:\((?:[^)(]+|\((?:[^)(]+|\([^)(]*\))*\))*\))?/g;return t.value.replace(a,(f,T)=>{let p=[],_=0;T=T.replace(c,d=>{const m=`__SAFE_MUSTACHE_TAG_${_++}__;`;return p.push(d),m}),T=T.replace(o,d=>{const m=`__MUSTACHE_TAG_${_++}__;`;return p.push(d),m}),T=T.replace(u,d=>{const m=`/*__EDGE_TAG_BLOCK_${_++}__*/`;return p.push(d),m}),T=T.replace(l,d=>{const m=`/*__SINGLE_EDGE_TAG_${_++}__*/`;return p.push(d),m});const R=Ra.parse(T),A=Ra.stringify(R,{indent:r});return`${e}<style>
${A.split(`
`).map(d=>`${n}${d}`).join(`
`)}
${e}</style>`.replace(/\/\*__EDGE_TAG_BLOCK_\d+__\*\//g,d=>{const m=p[parseInt(d.match(/\d+/)[0],10)],L=new Lr(m);return new wr({...i},s+2).handlePrint(L).trim()}).replace(/__MUSTACHE_TAG_\d+__;/g,d=>p[parseInt(d.match(/\d+/)[0],10)]).replace(/__SAFE_MUSTACHE_TAG_\d+__;/g,d=>p[parseInt(d.match(/\d+/)[0],10)]).replace(/\/\*__SINGLE_EDGE_TAG_\d+__\*\//g,d=>p[parseInt(d.match(/\d+/)[0],10)])})}function Dp(t,e,n,r,i,s){const a=/<script\b([^>]*)>([\s\S]*?)<\/script>/i,o=/{{.*?}}/g,c=/{{{.*?}}}/g,u=/@(!?\w+(?:\.\w+)*)\s*(?:\((?:[^)(]+|\((?:[^)(]+|\([^)(]*\))*\))*\))?[\s\S]*?@end/g,l=/@(assign|!component|debugger|eval|include|includeIf|inject|stack|svg|let|newError|vite|inertia|dd|dump)\s*(?:\((?:[^)(]+|\((?:[^)(]+|\([^)(]*\))*\))*\))?/g,h=t.value.match(a);if(!h)throw new Error("Invalid <script> tag format");const[f,T,p]=h;let _=[],R=0,A=p.replace(c,m=>{const L=`__SAFE_MUSTACHE_TAG_${R++}__`;return _.push(m),L}).replace(o,m=>{const L=`__MUSTACHE_TAG_${R++}__`;return _.push(m),L}).replace(u,m=>{const L=`/*__EDGE_TAG_BLOCK_${R++}__*/`;return _.push(m),L}).replace(l,m=>{const L=`/*__SINGLE_EDGE_TAG_${R++}__*/`;return _.push(m),L});const y=ne.minify({"file1.js":A},{compress:!1,keep_fnames:!0,mangle:!1,output:{beautify:!0,comments:"all",indent_level:e}});if(y.error)throw new Error(JSON.stringify(y.error));const d=y.code.replace(/\/\*__EDGE_TAG_BLOCK_\d+__\*\//g,m=>{const L=parseInt(m.match(/\d+/)[0],10),Y=_[L],de=new Lr(Y);return new wr({...i},0).handlePrint(de)}).replace(/\/\*__SINGLE_EDGE_TAG_\d+__\*\//g,m=>{const L=parseInt(m.match(/\d+/)[0],10);return _[L]}).replace(/__SAFE_MUSTACHE_TAG_\d+__/g,m=>{const L=parseInt(m.match(/\d+/)[0],10);return _[L]}).replace(/__MUSTACHE_TAG_\d+__/g,m=>{const L=parseInt(m.match(/\d+/)[0],10);return _[L]});return`${n}<script${T}>
${d.split(`
`).map(m=>`${r}${m}`).join(`
`)}
${n}<\/script>`}function Ia(t){const e=t.match(/^\s*/);return e?e[0].length:0}function $p(t,e,n){return`${e}${t.value.split(`
`).map((r,i)=>{if(i===0)return`${r.trim()}`;if(i===t.value.split(`
`).length-1)return`${e}${r.trim()}`;const s=Ia(r);return`${" ".repeat(Math.max(e.length,s))}${r.trim()}`}).join(`
`).replace(/[^\S\r\n]+$/g,"")}${n?`
`:""}`}class wr{constructor(e,n=void 0){Ge(this,"options");Ge(this,"level");Ge(this,"skipLevelOverride");Ge(this,"useTabs");Ge(this,"printWidth");Ge(this,"tabWidth");Ge(this,"singleAttributePerLine");Ge(this,"inlineTags",new Set(["a","abbr","acronym","b","bdi","bdo","big","br","button","cite","code","data","dfn","em","i","img","input","kbd","label","mark","meter","q","ruby","rp","rt","s","samp","select","small","span","strong","sub","sup","textarea","time","u","var","wbr","feFuncR","feFuncG","feFuncB","feFuncA"]));this.options=e,this.level=n??0,this.skipLevelOverride=!!n,this.useTabs=e.useTabs??!1,this.printWidth=e.printWidth??80,this.tabWidth=e.tabWidth??4,this.singleAttributePerLine=e.singleAttributePerLine??!1}isInlineTag(e){return this.inlineTags.has(e)}getIndent(e,n="none"){const r=e!==void 0?Math.max(e,0):this.level;return this.adjustIndentLevel(n),`${this.useTabs?"	":" ".repeat(this.tabWidth*r)}`}adjustIndentLevel(e){e==="increase"?this.level++:e==="decrease"&&this.level--}formatMultilineValue(e,n,r=!0){return e.split(`
`).map((i,s,a)=>{if(s===0)return`${r?n:""}${i.trim()}`;if(s===a.length-1)return`${n}${i.trim()}`;const o=Ia(i);return`${" ".repeat(Math.max(n.length,o))}${i.trim()}`}).join(`
`)}formatAttributes(e,n=""){return e.map(r=>r.attributeValue?`${n}${r.attributeName}=${xr(Pr(r.attributeValue)).trim()}`:`${n}${r.attributeName.trim()}`).join(n?`
`:" ")}formatEdgeSafeMustacheProps(e,n=""){return e.map(r=>`${n}${xr(r.value).trim()}`).join(n?`
`:" ")}formatEdgeMustacheProps(e,n=""){return e.map(r=>`${n}${Pr(r.value).trim()}`).join(n?`
`:" ")}formatEdgeTagProps(e,n=""){return e.map(r=>`${n}${r.value.trim()}`).join(n?`
`:" ")}formatComments(e,n=""){return e.map(r=>`${n}${r.value}`).join(n?`
`:" ")}printDocumentNode(e){return this.skipLevelOverride||(this.level=0),e.children.filter(xp).map((n,r,i)=>this.handlePrint(n,i[r-1],i[r+1])).join("")}printDTDNode(e){return`${this.getIndent()}${e.value}`}printStandardNode(e){const n=e.type==="scriptlet";return this.formatMultilineValue(e.value,n?"":this.getIndent())}printScriptElementNode(e){return Dp(e,this.tabWidth,this.getIndent(),this.getIndent(this.level+1),this.options,this.level)}printStyleElementNode(e){return Up(e,this.getIndent(),this.getIndent(this.level+1),this.getIndent(1),this.options,this.level)}printEdgeComment(e){return this.formatMultilineValue(wp(e.value.trim()),this.getIndent())}printEdgeMustacheNode(e,n,r){const i=!((n==null?void 0:n.type)==="htmlText"||(n==null?void 0:n.type)==="edgeMustache"||(n==null?void 0:n.type)==="edgeEscapedMustache"||(n==null?void 0:n.type)==="edgeSafeMustache"||((n==null?void 0:n.type)==="openingTag"||(n==null?void 0:n.type)==="voidTag"||(n==null?void 0:n.type)==="closingTag")&&this.isInlineTag(n.tagName)),s=!((r==null?void 0:r.type)==="htmlText"||(r==null?void 0:r.type)==="edgeMustache"||(r==null?void 0:r.type)==="edgeEscapedMustache"||(r==null?void 0:r.type)==="edgeSafeMustache"||((r==null?void 0:r.type)==="openingTag"||(r==null?void 0:r.type)==="voidTag"||(r==null?void 0:r.type)==="closingTag")&&this.isInlineTag(r.tagName));let a=`${i?this.getIndent():""}`;const o=e.type==="edgeSafeMustache"?xr(e.value):Pr(e.value);return a+=s?o.replace(/[\r\n]+/g,"").trimEnd()+`
`:o,a}printOpeningNode(e,n,r){let i=this.formatAttributes(e.attributes),s=this.formatEdgeTagProps(e.edgeTagProps),a=this.formatEdgeSafeMustacheProps(e.edgeSafeMustaches),o=this.formatEdgeMustacheProps(e.edgeMustaches),c=this.formatComments(e.comments);const u=`${i} ${a} ${o} ${s} ${c}`.length,l=this.getIndent(this.level+1),h=this.getIndent(void 0,e.type==="openingTag"?"increase":"none"),f=this.getIndent(e.type==="openingTag"?this.level-1:this.level),T=!this.isInlineTag(e.tagName)&&(r==null?void 0:r.type)!=="linebreak",p=!(((n==null?void 0:n.type)==="htmlText"||(n==null?void 0:n.type)==="edgeMustache"||(n==null?void 0:n.type)==="edgeEscapedMustache"||(n==null?void 0:n.type)==="edgeSafeMustache")&&this.isInlineTag(e.tagName));if(u>this.printWidth||this.singleAttributePerLine){const R=e.type=="voidTag"?"/>":">";i=this.formatAttributes(e.attributes,l),s=this.formatEdgeTagProps(e.edgeTagProps,l),a=this.formatEdgeSafeMustacheProps(e.edgeSafeMustaches,l),o=this.formatEdgeMustacheProps(e.edgeMustaches,l),c=this.formatComments(e.comments,l);const A=u-2>0?`
${f}`:"";return`${p?h:""}<${e.tagName}${i?`
${i}`:""}${o?`
${o}`:""}${a?`
${a}`:""}${s?`
${this.formatMultilineValue(s,l)}`:""}${c?`
${this.formatMultilineValue(c,l)}`:""}${A}${R}${T?`
`:""}`}const _=e.type=="voidTag"?" />":">";return`${p?h:""}<${e.tagName}${i?` ${i}`:""}${o?` ${o}`:""}${a?` ${a}`:""}${s?` ${this.formatMultilineValue(s,"")}`:""}${c?` ${this.formatMultilineValue(c,"")}`:""}${_}${T?`
`:""}`}printClosingNode(e,n,r){const i=!this.isInlineTag(e.tagName)||(n==null?void 0:n.type)==="linebreak"||(n==null?void 0:n.type)==="edgeTag",s=(n==null?void 0:n.type)!=="linebreak"&&(n==null?void 0:n.type)==="closingTag"&&this.isInlineTag(n.tagName)&&!this.isInlineTag(e.tagName),a=!this.isInlineTag(e.tagName)&&(r==null?void 0:r.type)!=="linebreak"&&!(((r==null?void 0:r.type)==="openingTag"||(r==null?void 0:r.type)==="voidTag"||(r==null?void 0:r.type)==="closingTag")&&this.isInlineTag(r.tagName));return`${s?`
`:""}${i?this.getIndent(this.level-1,"decrease"):this.getIndent(0,"decrease")}</${e.tagName}>${a?`
`:""}`}printEdgeTagNode(e,n){var a,o;let r="none",i=this.level;e.value.includes("@end")?(r="decrease",i--):e.value.includes("@else")?i--:e.value.includes("@!")||e.value.includes("@let")||e.value.includes("@svg")||e.value.includes("@assign")||e.value.includes("@inject")||e.value.includes("@eval")||e.value.includes("@debugger")||e.value.includes("@newError")||e.value.includes("@vite")||e.value.includes("@inertia")||e.value.includes("@stack")||e.value.includes("@dd")||e.value.includes("@dump")||(a=e.value.match(/^@include\(.*/))!=null&&a.length||(o=e.value.match(/^@includeIf\(.*/))!=null&&o.length||!e.value.includes("(")?r="none":r="increase";const s=(n==null?void 0:n.type)!=="linebreak"&&!e.value.includes(`
`);return $p(e,this.getIndent(i,r),s)}printHtmlTextNode(e,n,r){const i=!((n==null?void 0:n.type)==="scriptlet"||(n==null?void 0:n.type)==="edgeMustache"||(n==null?void 0:n.type)==="edgeSafeMustache"||(n==null?void 0:n.type)==="edgeEscapedMustache"||((n==null?void 0:n.type)==="openingTag"||(n==null?void 0:n.type)==="voidTag"||(n==null?void 0:n.type)==="closingTag")&&this.isInlineTag(n.tagName)),s=!((r==null?void 0:r.type)==="edgeMustache"||(r==null?void 0:r.type)==="edgeSafeMustache"||(r==null?void 0:r.type)==="edgeEscapedMustache"||(r==null?void 0:r.type)==="htmlText"||((r==null?void 0:r.type)==="openingTag"||(r==null?void 0:r.type)==="voidTag"||(r==null?void 0:r.type)==="closingTag")&&this.isInlineTag(r.tagName)||(r==null?void 0:r.type)==="scriptlet"),a=i?this.getIndent()+e.value:e.value;return s?`${a.trimEnd()}
`:a}printLineBreak(e){return e.value}handlePrint(e,n=void 0,r=void 0){switch(e.type){case"document":return this.printDocumentNode(e);case"dtd":return this.printDTDNode(e);case"htmlComment":case"htmlConditionalComment":case"cdata":case"scriptlet":return this.printStandardNode(e);case"scriptElement":return this.printScriptElementNode(e);case"styleElement":return this.printStyleElementNode(e);case"edgeComment":return this.printEdgeComment(e);case"edgeMustache":case"edgeEscapedMustache":case"edgeSafeMustache":return this.printEdgeMustacheNode(e,n,r);case"openingTag":case"voidTag":return this.printOpeningNode(e,n,r);case"closingTag":return this.printClosingNode(e,n,r);case"edgeTag":return this.printEdgeTagNode(e,r);case"htmlText":return this.printHtmlTextNode(e,n,r);case"linebreak":return this.printLineBreak(e);default:return""}}}function Fp(t,e){const n=t.getNode();return new wr(e).handlePrint(n)}const jp=[{name:"EdgeJS",parsers:["edgejs"],extensions:[".edge"],tmScope:"text.html.edge",aceMode:"html",linguistLanguageId:460509620,vscodeLanguageIds:["edge"]}],Gp={edgejs:{parse(t){return Lr(t)},astFormat:"edgejs",locStart(t){return t.start},locEnd(t){return t.end}}},Bp={edgejs:{print:Fp}},Vp={useTabs:!1,tabWidth:4,printWidth:80,singleAttributePerLine:!1},Kp={};M.defaultOptions=Vp,M.languages=jp,M.options=Kp,M.parsers=Gp,M.printers=Bp,Object.defineProperty(M,Symbol.toStringTag,{value:"Module"})});
